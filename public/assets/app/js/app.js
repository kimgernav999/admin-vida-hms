(()=>{var e,t={7757:(e,t,n)=>{e.exports=n(5666)},4311:(e,t,n)=>{"use strict";var a=n(7757),s=n.n(a);const i={data:function(){return{}},props:{visible:Boolean,id:{type:String,required:!1},title:{type:String,default:"Notice"},message:String,confirm:Boolean,okText:{type:String,default:"Ok"},cancelText:{type:String,default:"Cancel"},okClicked:{type:Function,required:!1,default:function(){}},cancelClicked:{type:Function,required:!1,default:function(){}}},watch:{visible:function(e){e?this.$bvModal.show(this.id):this.$bvModal.hide(this.id)}}};var o=n(3379),r=n.n(o),l=n(1288),c={insert:"head",singleton:!1};r()(l.Z,c);l.Z.locals;function d(e,t,n,a,s,i,o,r){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=r?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,l):[l]}return{exports:e,options:c}}const m=d(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:e.id,size:"sm",title:e.title,centered:"","hide-header-close":"","hide-header":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"d-flex justify-content-center w-100"},[n("b-button",{staticClass:"w-50 mx-2",attrs:{pill:"",variant:"success",size:"sm"},on:{click:function(t){return e.okClicked()}}},[e._v(e._s(e.okText.toUpperCase()))]),e._v(" "),e.confirm?n("b-button",{staticClass:"w-50 mx-2",attrs:{pill:"",variant:"warning",size:"sm"},on:{click:function(t){return e.cancelClicked()}}},[e._v(e._s(e.cancelText.toUpperCase()))]):e._e()],1)]},proxy:!0}])},[n("b-container",{attrs:{fluid:""}},[n("div",{staticClass:"text-center mt-2 alert-header w-100"},[e._v("\n            "+e._s(e.title.toUpperCase())+"\n        ")]),e._v(" "),n("div",{staticClass:"text-center pt-4 pb-2 alert-message"},[e._v("\n            "+e._s(e.message)+"\n        ")])])],1)}),[],!1,null,"f4633a3c",null).exports,u={components:{Alert:m},data:function(){var e=this;return{location:location.pathname,dropnavShown:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.$bvModal.hide("topbar_alert")},cancelClicked:function(){e.$bvModal.hide("topbar_alert")}}}},methods:{getPath:function(){var e=location.pathname;e=(e=e.substring(e.indexOf("/")+1)).substring(e.indexOf("/")),this.location="localhost"==location.host?e:location.pathname,document.title="Vida Emirates Hotel | "+this.ucwords(this.$route.name)},signOut:function(){var e=this;this.alert.confirm=!0,this.alert.message="Sign Out Account?",this.alert.okClicked=function(){axios.post("/api/accounts/signout").then((function(e){return e.data})).catch((function(e){console.log(e)})),e.$emit("signedout"),e.$bvModal.hide("topbar_alert")},this.alert.cancelClicked=function(){e.$bvModal.hide("topbar_alert")},this.$bvModal.show("topbar_alert")},ucwords:function(e){return e.toLowerCase().replace(/\b[a-z]/g,(function(e){return e.toUpperCase()}))}},props:{isLoggedIn:{type:Boolean,default:!1,required:!0},logoUrl:{type:String,default:null,required:!0},userFullname:{type:String,default:"N/A",required:!0}},watch:{$route:function(){window.scrollTo(0,0),this.getPath()}}};var f=n(2598),_={insert:"head",singleton:!1};r()(f.Z,_);f.Z.locals;const p=d(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar navbar-expand-xl navbar-light bg-light fixed-top p-0 shadow-sm"},[n("a",{staticClass:"d-flex navbar-brand ml-3 p-0 h-100"},[n("div",{staticClass:"my-3 p-2 no-arrow",on:{click:function(t){return e.$emit("togglesidebar")}}},[n("i",{staticClass:"fa fa-bars text-secondary"})]),e._v(" "),n("img",{staticClass:"align-self-center navbar-logo",attrs:{src:e.logoUrl,alt:""}})]),e._v(" "),n("ul",{staticClass:"navbar-nav ml-auto mx-4"},[n("div",{class:"nav-item position-relative m-0 "+("/settings"==e.location?" active":""),attrs:{"data-target":"#profilemenu","data-toggle":"collapse"}},[n("a",{staticClass:"d-flex nav-link font-weight-bold text-dark",attrs:{href:"javascript:void(0)"}},[n("i",{staticClass:"fa fa-user-circle mr-2",staticStyle:{"font-size":"32px"}}),e._v(" "),n("div",{staticStyle:{"line-height":"32px","vertical-align":"center"}},[e._v(e._s(e.userFullname))])]),e._v(" "),n("div",{staticClass:"bg-white border-light dropdown-menu dropdown-menu-right mt-2 p-2 position-absolute shadow",attrs:{id:"profilemenu"}},[n("div",{staticClass:"d-flex flex-column"},[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"settings"}}},[n("i",{staticClass:"fa fa-user-circle mx-1 text-info"}),e._v("\n                        Profile Settings\n                    ")]),e._v(" "),n("a",{staticClass:"menu-item",attrs:{href:"javascript:void(0)"},on:{click:e.signOut}},[n("i",{staticClass:"fa fa-sign-out mx-1 text-info"}),e._v("\n                        Sign Out\n                    ")])],1)])])]),e._v(" "),n("alert",{attrs:{id:"topbar_alert",visible:e.alert.show,title:e.alert.title,confirm:e.alert.confirm,message:e.alert.message,okText:e.alert.okText,cancelText:e.alert.cancelText,okClicked:e.alert.okClicked,cancelClicked:e.alert.cancelClicked}})],1)}),[],!1,null,"25235f78",null).exports;const v={};var h=n(224),b={insert:"head",singleton:!1};r()(h.Z,b);h.Z.locals;const g=d(v,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"bg-light shadow-sm dashboard"},[e._v("\n    Error 404: Page not Found\n")])}),[],!1,null,null,null).exports;const y=d({},(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-5"},[e._v("Dashboard")]),e._v(" "),n("h6",{staticClass:"text-center"},[e._v("Work on progress!")])])])}],!1,null,"3f58294e",null).exports;const w=d({},(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-5"},[e._v("Bookings & Reservations")]),e._v(" "),n("h6",{staticClass:"text-center"},[e._v("Work on progress!")])])])}],!1,null,"7f34b403",null).exports;const x=d({},(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-5"},[e._v("Billings")]),e._v(" "),n("h6",{staticClass:"text-center"},[e._v("Work on progress!")])])])}],!1,null,"141eca4c",null).exports;const k=d({},(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-5"},[e._v("Room Inventory")]),e._v(" "),n("h6",{staticClass:"text-center"},[e._v("Work on progress!")])])])}],!1,null,"fe1e4ebe",null).exports;const C=d({},(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-5"},[e._v("Rooms & Suites")]),e._v(" "),n("h6",{staticClass:"text-center"},[e._v("Work on progress!")])])])}],!1,null,"a90b4a02",null).exports;function A(e,t,n,a,s,i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,s)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){A(i,a,s,o,r,"next",e)}function r(e){A(i,a,s,o,r,"throw",e)}o(void 0)}))}}const M={components:{Alert:m},data:function(){var e=this;return{all_accounts:"",table:{current_page:1,filter:"",filter_on:["amenities_category_name","category_name","description"],fields:[{key:"amenities_category_name",label:"Amenities Category Name",sortable:!0},{key:"description",label:"Description",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],items:[],per_page:6},modal_new:!0,amenities_category_info:{amenities_category_name:"",category_name:"",description:""},category_name_options:["Select Amenities Category Category"],valid:{amenities_category_name:"",category_name:"",description:""},isBusy:!1,modalIsBusy:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.$bvModal.hide("signin_alert")},cancelClicked:function(){e.$bvModal.hide("signin_alert")}}}},methods:{getAllAmenitiesCategory:function(){var e=this;return $(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.table.isBusy=!0,t.next=3,axios.post("/api/accounts/allAccounts",{user_role:"amenities_category"}).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 3:e.all_accounts=t.sent,e.table.items=[],e.all_accounts.forEach((function(t){var n=t.admin;n.account_id=t.account_id,n.username=t.username,e.table.items.push(n)})),e.table.isBusy=!1;case 7:case"end":return t.stop()}}),t)})))()},is_valid:function(e){switch(e){case"amenities_category_name":var t=/^.{3,}$/.test(this.amenities_category_info.amenities_category_name);this.valid.amenities_category_name=t?"":"Name too short (At least 3 characters)";break;case"category_name":this.valid.category_name="Select Amenities Category Category"==this.amenities_category_info.category_name?"Field is required":"";break;case"description":var n=/^.{10,}$/.test(this.amenities_category_info.description);this.valid.description=n?"":"Description too short (At least 10 characters)"}},open_amenities_category_modal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?(this.modal_new=!0,this.amenities_category_info.amenities_category_name="",this.amenities_category_info.category_name="Select Amenities Category Category",this.amenities_category_info.description="",this.valid.amenities_category_name="",this.valid.category_name="",this.valid.description="",this.$bvModal.show("amenities_category_modal")):(this.modal_new=!1,this.amenities_category_info.amenities_category_name=t.amenities_category_name,this.amenities_category_info.category_name=t.category.category_name,this.amenities_category_info.description=t.description,this.$bvModal.show("amenities_category_modal"))},save_amenities_category:function(){var e=this;return $(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(""!=e.valid.amenities_category_name||""==e.amenities_category_info.amenities_category_name||""!=e.valid.category_name||"Select Amenities Category Category"==e.amenities_category_info.category_name||""!=e.valid.description||""==e.amenities_category_info.description)){t.next=7;break}return e.alert.confirm=!1,e.alert.message="Please fill all the required fields!",e.alert.okClicked=function(){e.$bvModal.hide("amenities_category_alert")},e.$bvModal.show("amenities_category_alert"),t.abrupt("return");case 7:return e.modalIsBusy=!0,t.next=10,axios.post("/api/accounts/"+(e.modal_new?"create":"updateProfile"),e.amenities_category_info).then((function(t){return e.modalIsBusy=!1,e.alert.confirm=!1,e.alert.message=t.data.message,e.alert.okClicked=function(){e.$bvModal.hide("amenities_category_modal"),e.$bvModal.hide("amenities_category_alert"),e.amenities_category_info.first_name="",e.amenities_category_info.last_name="",e.amenities_category_info.middle_name="",e.amenities_category_info.email_address="",e.amenities_category_info.mobile_number="",e.amenities_category_info.position="Select Position",e.amenities_category_info.username="",e.amenities_category_info.password="",e.amenities_category_info.password_confirmation="",e.getAllAmenitiesCategory()},e.$bvModal.show("amenities_category_alert"),t.data.message})).then((function(e){console.log(e)}));case 10:t.sent;case 11:case"end":return t.stop()}}),t)})))()},delete_amenities_category:function(e){var t=this;this.alert.confirm=!0,this.alert.message="Delete Amenities Category record?",this.alert.okClicked=$(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.post("/api/accounts/delete",{account_id:e}).then((function(e){return t.modalIsBusy=!1,t.alert.confirm=!1,t.alert.message=e.data.message,t.alert.okClicked=function(){t.$bvModal.hide("amenities_category_alert"),t.getAllAmenitiesCategory()},t.$bvModal.show("amenities_category_alert"),e.data.message})).then((function(e){console.log(e)}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)}))),this.alert.cancelClicked=function(){t.$bvModal.hide("amenities_category_alert")},this.$bvModal.show("amenities_category_alert")}},mounted:function(){this.getAllAmenitiesCategory()}};var B=n(2642),S={insert:"head",singleton:!1};r()(B.Z,S);B.Z.locals;function I(e,t,n,a,s,i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,s)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){I(i,a,s,o,r,"next",e)}function r(e){I(i,a,s,o,r,"throw",e)}o(void 0)}))}}const N={components:{Alert:m,AmenitiesCategories:d(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("div",{staticClass:"d-flex mb-4"},[n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"mr-3 no-arrow",staticStyle:{"margin-top":"6px"},attrs:{title:"Go back to Amenities"},on:{click:function(t){return e.$emit("backtoamenities")}}},[n("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),n("h3",[e._v("Amenities Category")])]),e._v(" "),n("div",{staticClass:"border py-3 rounded-sm"},[n("div",{staticClass:"d-flex mb-3"},[n("div",{staticClass:"justify-content-center col-auto"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"success",title:"New Amenities Category"},on:{click:function(t){return e.open_amenities_category_modal(!0)}}},[n("i",{staticClass:"fa fa-plus"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"primary",title:"Refresh"},on:{click:e.getAllAmenitiesCategory}},[n("i",{class:"fa fa-refresh"+(e.table.isBusy?" fa-spin":"")})])],1),e._v(" "),n("div",{staticClass:"col"},[n("b-input",{staticClass:"form-control rounded-pill",attrs:{placeholder:"Search Amenities Category"},model:{value:e.table.filter,callback:function(t){e.$set(e.table,"filter",t)},expression:"table.filter"}})],1)]),e._v(" "),n("div",{staticClass:"d-flex flex-column"},[n("b-table",{staticClass:"border-bottom vw-75",attrs:{busy:e.table.isBusy,fields:e.table.fields,filter:e.table.filter,"filter-included-fields":e.table.filter_on,"current-page":e.table.current_page,items:e.table.items,striped:"",responsive:"","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("i",{staticClass:"fa fa-spinner fa-10x align-middle"}),e._v(" "),n("strong",[e._v("Loading...")])])]},proxy:!0},{key:"cell(full_name)",fn:function(t){return[e._v("\n                        "+e._s(t.item.amenities_category_name)+"\n                    ")]}},{key:"cell(position)",fn:function(t){return[e._v("\n                        "+e._s(t.item.description)+"\n                    ")]}},{key:"cell(actions)",fn:function(t){return[n("div",{staticClass:"d-flex justify-content-center"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-lg mx-1",attrs:{variant:"success",size:"sm",title:"Update Record"},on:{click:function(n){return e.open_amenities_category_modal(!1,t.item)}}},[n("i",{staticClass:"fa fa-edit"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-lg mx-1",attrs:{variant:"primary",size:"sm",title:"Delete Record"},on:{click:function(n){return e.delete_amenities_category(t.item.account_id)}}},[n("i",{staticClass:"fa fa-trash"})])],1)]}}])}),e._v(" "),n("b-pagination",{staticClass:"mx-auto my-0",attrs:{"total-rows":e.table.items.length,"per-page":e.table.per_page},model:{value:e.table.current_page,callback:function(t){e.$set(e.table,"current_page",t)},expression:"table .current_page"}})],1)])]),e._v(" "),n("b-modal",{attrs:{id:"amenities_category_modal",title:(e.modal_new?"New":"Update")+" Amenities Category Record",centered:"",scrollable:"","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"d-flex justify-content-center w-100"},[n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"danger",disabled:e.modalIsBusy,block:"",pill:""},on:{click:function(t){return e.$bvModal.hide("amenities_category_modal")}}},[e._v("Cancel")]),e._v(" "),n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"primary",disabled:e.modalIsBusy,block:"",pill:""},on:{click:function(t){return e.save_amenities_category()}}},[e._v("Done")])],1)]},proxy:!0}])},[n("b-overlay",{attrs:{show:e.modalIsBusy,opacity:"0.3"}},[n("b-container",{attrs:{fluid:""}},[n("div",{staticClass:"d-flex justify-content-center mb-4"},[n("i",{staticClass:"fa fa-bullseye my-3",staticStyle:{"font-size":"120px"}})]),e._v(" "),n("b-form",{staticClass:"my-3",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save_amenities_category()}}},[n("h6",{staticClass:"text-success font-weight-bold text-black-70 text-black-70"},[e._v("Amenities Category Information")]),e._v(" "),n("div",{staticClass:"font-weight-lighter ml-2 mb-3 text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"Amenities Category Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:function(t){return e.is_valid("amenities_category_name")}},model:{value:e.amenities_category_info.amenities_category_name,callback:function(t){e.$set(e.amenities_category_info,"amenities_category_name",t)},expression:"amenities_category_info.amenities_category_name"}}),e._v(" "),e.valid.amenities_category_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.amenities_category_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Amenities Category Category *"}},[n("b-form-select",{staticClass:"form-control rounded-pill",attrs:{options:e.category_name_options},on:{change:function(t){return e.is_valid("category_name")}},model:{value:e.amenities_category_info.category_name,callback:function(t){e.$set(e.amenities_category_info,"category_name",t)},expression:"amenities_category_info.category_name"}}),e._v(" "),e.valid.category_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.category_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Amenities Category Category *"}},[n("div",{staticClass:"border p-2 text-area-wrapper"},[n("b-form-textarea",{staticClass:"border-0",attrs:{rows:"3"},on:{keyup:function(t){return e.is_valid("description")}},model:{value:e.amenities_category_info.description,callback:function(t){e.$set(e.amenities_category_info,"description",t)},expression:"amenities_category_info.description"}})],1),e._v(" "),e.valid.description?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.description))]):e._e()])],1)],1)],1)],1),e._v(" "),n("alert",{attrs:{id:"amenities_category_alert",visible:e.alert.show,title:e.alert.title,confirm:e.alert.confirm,message:e.alert.message,okText:e.alert.okText,cancelText:e.alert.cancelText,okClicked:e.alert.okClicked,cancelClicked:e.alert.cancelClicked}})],1)}),[],!1,null,"be5ddd9e",null).exports},data:function(){var e=this;return{isAmenities:!0,all_accounts:"",table:{current_page:1,filter:"",filter_on:["amenities_name","category_name","description"],fields:[{key:"amenities_name",label:"Amenities Name",sortable:!0},{key:"category_name",label:"Category Name",sortable:!0},{key:"description",label:"Description",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],items:[],per_page:6},modal_new:!0,amenities_info:{amenities_name:"",category_name:"",description:""},category_name_options:["Select Amenities Category"],valid:{amenities_name:"",category_name:"",description:""},isBusy:!1,modalIsBusy:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.$bvModal.hide("signin_alert")},cancelClicked:function(){e.$bvModal.hide("signin_alert")}}}},methods:{getAllAmenities:function(){var e=this;return E(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.table.isBusy=!0,t.next=3,axios.post("/api/accounts/allAccounts",{user_role:"amenities"}).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 3:e.all_accounts=t.sent,e.table.items=[],e.all_accounts.forEach((function(t){var n=t.admin;n.account_id=t.account_id,n.username=t.username,e.table.items.push(n)})),e.table.isBusy=!1;case 7:case"end":return t.stop()}}),t)})))()},is_valid:function(e){switch(e){case"amenities_name":var t=/^.{3,}$/.test(this.amenities_info.amenities_name);this.valid.amenities_name=t?"":"Name too short (At least 3 characters)";break;case"category_name":this.valid.category_name="Select Amenities Category"==this.amenities_info.category_name?"Field is required":"";break;case"description":var n=/^.{10,}$/.test(this.amenities_info.description);this.valid.description=n?"":"Description too short (At least 10 characters)"}},open_amenities_modal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?(this.modal_new=!0,this.amenities_info.amenities_name="",this.amenities_info.category_name="Select Amenities Category",this.amenities_info.description="",this.valid.amenities_name="",this.valid.category_name="",this.valid.description="",this.$bvModal.show("amenities_modal")):(this.modal_new=!1,this.amenities_info.amenities_name=t.amenities_name,this.amenities_info.category_name=t.category.category_name,this.amenities_info.description=t.description,this.$bvModal.show("amenities_modal"))},save_amenities:function(){var e=this;return E(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(""!=e.valid.amenities_name||""==e.amenities_info.amenities_name||""!=e.valid.category_name||"Select Amenities Category"==e.amenities_info.category_name||""!=e.valid.description||""==e.amenities_info.description)){t.next=7;break}return e.alert.confirm=!1,e.alert.message="Please fill all the required fields!",e.alert.okClicked=function(){e.$bvModal.hide("amenities_alert")},e.$bvModal.show("amenities_alert"),t.abrupt("return");case 7:return e.modalIsBusy=!0,t.next=10,axios.post("/api/accounts/"+(e.modal_new?"create":"updateProfile"),e.amenities_info).then((function(t){return e.modalIsBusy=!1,e.alert.confirm=!1,e.alert.message=t.data.message,e.alert.okClicked=function(){e.$bvModal.hide("amenities_modal"),e.$bvModal.hide("amenities_alert"),e.amenities_info.first_name="",e.amenities_info.last_name="",e.amenities_info.middle_name="",e.amenities_info.email_address="",e.amenities_info.mobile_number="",e.amenities_info.position="Select Position",e.amenities_info.username="",e.amenities_info.password="",e.amenities_info.password_confirmation="",e.getAllAmenities()},e.$bvModal.show("amenities_alert"),t.data.message})).then((function(e){console.log(e)}));case 10:t.sent;case 11:case"end":return t.stop()}}),t)})))()},delete_amenities:function(e){var t=this;this.alert.confirm=!0,this.alert.message="Delete Amenities record?",this.alert.okClicked=E(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.post("/api/accounts/delete",{account_id:e}).then((function(e){return t.modalIsBusy=!1,t.alert.confirm=!1,t.alert.message=e.data.message,t.alert.okClicked=function(){t.$bvModal.hide("amenities_alert"),t.getAllAmenities()},t.$bvModal.show("amenities_alert"),e.data.message})).then((function(e){console.log(e)}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)}))),this.alert.cancelClicked=function(){t.$bvModal.hide("amenities_alert")},this.$bvModal.show("amenities_alert")}},mounted:function(){this.getAllAmenities()}};var P=n(3431),T={insert:"head",singleton:!1};r()(P.Z,T);P.Z.locals;const z=d(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[e.isAmenities?n("div",{staticClass:"w-100"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-4"},[e._v("Amenities")]),e._v(" "),n("div",{staticClass:"border py-3 rounded-sm"},[n("div",{staticClass:"d-flex mb-3"},[n("div",{staticClass:"justify-content-center col-auto"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"success",title:"New Amenities"},on:{click:function(t){return e.open_amenities_modal(!0)}}},[n("i",{staticClass:"fa fa-plus"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"primary",title:"Refresh"},on:{click:e.getAllAmenities}},[n("i",{class:"fa fa-refresh"+(e.table.isBusy?" fa-spin":"")})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"secondary",title:"Refresh"},on:{click:function(t){e.isAmenities=!1}}},[n("i",{staticClass:"fa fa-cog"})])],1),e._v(" "),n("div",{staticClass:"col"},[n("b-input",{staticClass:"form-control rounded-pill",attrs:{placeholder:"Search Amenities"},model:{value:e.table.filter,callback:function(t){e.$set(e.table,"filter",t)},expression:"table.filter"}})],1)]),e._v(" "),n("div",{staticClass:"d-flex flex-column"},[n("b-table",{staticClass:"border-bottom vw-75",attrs:{busy:e.table.isBusy,fields:e.table.fields,filter:e.table.filter,"filter-included-fields":e.table.filter_on,"current-page":e.table.current_page,items:e.table.items,striped:"",responsive:"","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("i",{staticClass:"fa fa-spinner fa-10x align-middle"}),e._v(" "),n("strong",[e._v("Loading...")])])]},proxy:!0},{key:"cell(full_name)",fn:function(t){return[e._v("\n                            "+e._s(t.item.amenities_name)+"\n                        ")]}},{key:"cell(email_address)",fn:function(t){return[e._v("\n                            "+e._s(t.item.category.category_name)+"\n                        ")]}},{key:"cell(position)",fn:function(t){return[e._v("\n                            "+e._s(t.item.description)+"\n                        ")]}},{key:"cell(actions)",fn:function(t){return[n("div",{staticClass:"d-flex justify-content-center"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-lg mx-1",attrs:{variant:"success",size:"sm",title:"Update Record"},on:{click:function(n){return e.open_amenities_modal(!1,t.item)}}},[n("i",{staticClass:"fa fa-edit"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-lg mx-1",attrs:{variant:"primary",size:"sm",title:"Delete Record"},on:{click:function(n){return e.delete_amenities(t.item.account_id)}}},[n("i",{staticClass:"fa fa-trash"})])],1)]}}],null,!1,4003571944)}),e._v(" "),n("b-pagination",{staticClass:"mx-auto my-0",attrs:{"total-rows":e.table.items.length,"per-page":e.table.per_page},model:{value:e.table.current_page,callback:function(t){e.$set(e.table,"current_page",t)},expression:"table .current_page"}})],1)])]),e._v(" "),n("b-modal",{attrs:{id:"amenities_modal",title:(e.modal_new?"New":"Update")+" Amenities Record",centered:"",scrollable:"","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"d-flex justify-content-center w-100"},[n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"danger",disabled:e.modalIsBusy,block:"",pill:""},on:{click:function(t){return e.$bvModal.hide("amenities_modal")}}},[e._v("Cancel")]),e._v(" "),n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"primary",disabled:e.modalIsBusy,block:"",pill:""},on:{click:function(t){return e.save_amenities()}}},[e._v("Done")])],1)]},proxy:!0}],null,!1,445458590)},[n("b-overlay",{attrs:{show:e.modalIsBusy,opacity:"0.3"}},[n("b-container",{attrs:{fluid:""}},[n("div",{staticClass:"d-flex justify-content-center mb-4"},[n("i",{staticClass:"fa fa-bullseye my-3",staticStyle:{"font-size":"120px"}})]),e._v(" "),n("b-form",{staticClass:"my-3",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save_amenities()}}},[n("h6",{staticClass:"text-success font-weight-bold text-black-70 text-black-70"},[e._v("Amenities Information")]),e._v(" "),n("div",{staticClass:"font-weight-lighter ml-2 mb-3 text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"Amenities Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:function(t){return e.is_valid("amenities_name")}},model:{value:e.amenities_info.amenities_name,callback:function(t){e.$set(e.amenities_info,"amenities_name",t)},expression:"amenities_info.amenities_name"}}),e._v(" "),e.valid.amenities_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.amenities_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Amenities Category *"}},[n("b-form-select",{staticClass:"form-control rounded-pill",attrs:{options:e.category_name_options},on:{change:function(t){return e.is_valid("category_name")}},model:{value:e.amenities_info.category_name,callback:function(t){e.$set(e.amenities_info,"category_name",t)},expression:"amenities_info.category_name"}}),e._v(" "),e.valid.category_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.category_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Amenities Category *"}},[n("div",{staticClass:"border p-2 text-area-wrapper"},[n("b-form-textarea",{staticClass:"border-0",attrs:{rows:"3"},on:{keyup:function(t){return e.is_valid("description")}},model:{value:e.amenities_info.description,callback:function(t){e.$set(e.amenities_info,"description",t)},expression:"amenities_info.description"}})],1),e._v(" "),e.valid.description?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.description))]):e._e()])],1)],1)],1)],1),e._v(" "),n("alert",{attrs:{id:"amenities_alert",visible:e.alert.show,title:e.alert.title,confirm:e.alert.confirm,message:e.alert.message,okText:e.alert.okText,cancelText:e.alert.cancelText,okClicked:e.alert.okClicked,cancelClicked:e.alert.cancelClicked}})],1):n("amenities-categories",{staticClass:"w-100",on:{backtoamenities:function(t){e.isAmenities=!0}}})],1)}),[],!1,null,"7f28e675",null).exports;const U=d({},(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-5"},[e._v("Promo Offers")]),e._v(" "),n("h6",{staticClass:"text-center"},[e._v("Work on progress!")])])])}],!1,null,"6bef78ab",null).exports;function j(e,t,n,a,s,i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,s)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){j(i,a,s,o,r,"next",e)}function r(e){j(i,a,s,o,r,"throw",e)}o(void 0)}))}}var F,L;const O={components:{Alert:m},data:function(){var e=this;return{username:"N/A",user_fullname:"N/A",user_regdate:"N/A",account_info:{first_name:"",middle_name:"",last_name:"",gender:"Select Gender",birth_date:"",email_address:"",old_email_address:"",email_address_verified:!1,mobile_number:"",position:""},gender_options:["Select Gender","Male","Female"],position_options:["Select Position","Receptionist","Housekeeper","Administrator"],uchange:{username:"",password:""},pchange:{old_password:"",new_password:"",password_confirmation:""},valid:{first_name:"",last_name:"",gender:"",birth_date:"",email_address:"",position:"",username:"",password_length:"",password_cap:"",password_num:"",password_confirmation:""},ev_busy:!1,pi_busy:!1,lcu_busy:!1,lcp_busy:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.$bvModal.hide("settings_alert")},cancelClicked:function(){e.$bvModal.hide("settings_alert")}}}},methods:{is_valid:function(e){var t=/^.{2,}$/;switch(e){case"first_name":var n=t.test(this.account_info.first_name);this.valid.first_name=n?"":"Name too short (At least 2 characters)";break;case"last_name":var a=t.test(this.account_info.last_name);this.valid.last_name=a?"":"Name too short (At least 2 characters)";break;case"email_address":var s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.account_info.email_address);this.valid.email_address=s?"":"Invalid email address";break;case"gender":this.valid.gender="Select Gender"==this.account_info.gender?"Field is required":"";break;case"birth_date":this.valid.birth_date=this.account_info.birth_date?"":"Field is required";break;case"position":this.valid.position="Select Position"==this.account_info.position?"Field is required":"";break;case"username":var i=/^.{6,}$/.test(this.uchange.username);this.valid.username=i?"":"Userame too short (At least 6 characters)";break;case"password":var o=/^.{8,}$/.test(this.pchange.new_password),r=/[A-Z]/.test(this.pchange.new_password),l=/[0-9]/.test(this.pchange.new_password);this.valid.password_length=!o,this.valid.password_cap=!r,this.valid.password_num=!l;break;case"password_confirmation":var c=this.pchange.new_password==this.pchange.password_confirmation;this.valid.password_confirmation=c?"":"New password doesn't match"}},check_email:(L=R(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_valid("email_address"),this.valid.email_address){e.next=5;break}return e.next=4,axios.get("/api/accounts/checkEmail?email_address="+this.account_info.email_address+"&user_role=employee&self=1").then((function(e){return e.data?"Email already taken":null})).catch((function(e){console.log(e)}));case 4:this.valid.email_address=e.sent;case 5:case"end":return e.stop()}}),e,this)}))),function(){return L.apply(this,arguments)}),check_username:(F=R(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_valid("username"),this.valid.username){e.next=5;break}return e.next=4,axios.get("/api/accounts/checkUsername?username="+this.uchange.username).then((function(e){return e.data?"Username already taken":null})).catch((function(e){console.log(e)}));case 4:this.valid.username=e.sent;case 5:case"end":return e.stop()}}),e,this)}))),function(){return F.apply(this,arguments)}),update_profile:function(){var e=this;return R(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.getElementById("alerts").classList.add("d-none"),t.next=3,axios.post("/api/accounts/updateProfile",e.account_info).then((function(t){return e.$emit("profilechanged"),e.getCurrentUser(),t.data})).catch((function(e){console.log(e)}));case 3:n=t.sent,e.alert.confirm=!1,e.alert.message=n.message,e.alert.okClicked=function(){e.$bvModal.hide("settings_alert")},e.$bvModal.show("settings_alert");case 8:case"end":return t.stop()}}),t)})))()},update_username:function(){var e=this;return R(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.post("/api/accounts/updateUsername",e.uchange).then((function(t){return e.$emit("profilechanged"),e.getCurrentUser(),t.data})).catch((function(e){console.log(e)}));case 2:n=t.sent,e.alert.confirm=!1,e.alert.message=n.message,e.alert.okClicked=function(){e.uchange.password="",e.$bvModal.hide("settings_alert")},e.$bvModal.show("settings_alert");case 7:case"end":return t.stop()}}),t)})))()},update_password:function(){var e=this;return R(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.post("/api/accounts/updatePassword",e.pchange).then((function(t){return e.$emit("profilechanged"),e.getCurrentUser(),t.data})).catch((function(e){console.log(e)}));case 2:n=t.sent,e.alert.confirm=!1,e.alert.message=n.message,e.alert.okClicked=function(){e.pchange.old_password="",e.pchange.new_password="",e.pchange.password_confirmation="",e.$bvModal.hide("settings_alert")},e.$bvModal.show("settings_alert");case 7:case"end":return t.stop()}}),t)})))()},getCurrentUser:function(){var e=this;return R(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.post("/api/accounts/current").then((function(t){if(t.data.username){var n=t.data.current.admin;e.username=t.data.current.username,e.uchange.username=t.data.username,e.user_fullname=n.first_name+" "+(n.middle_name?n.middle_name[0]+". ":"")+n.last_name,e.user_regdate=e.$moment(n.created_at).format("LL"),e.account_info.first_name=n.first_name,e.account_info.middle_name=n.middle_name,e.account_info.last_name=n.last_name,e.account_info.gender=n.gender,e.account_info.birth_date=n.birth_date,e.account_info.email_address=n.email_address,e.account_info.old_email_address=n.email_address,e.account_info.email_address_verified=n.email_address_verified,e.account_info.mobile_number=n.mobile_number,e.account_info.position=n.position}return setTimeout((function(){document.getElementById("alerts").classList.remove("d-none")}),1e3),t.data})).catch((function(e){console.log(e)}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},send_emailverify_mail:function(){var e=this;return R(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.ev_busy=!0,t.next=3,axios.post("/api/token/emailverify/create",e.emailVerifyInfo).then((function(t){return e.ev_busy=!1,e.alert.confirm=!1,e.alert.message=t.data.message,e.alert.okClicked=function(){e.$bvModal.hide("settings_alert"),e.emailVerifyInfo.email_address="",e.$router.push("/")},e.$bvModal.show("settings_alert"),t.data})).catch((function(t){e.ev_busy=!1,console.log(t)}));case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()}},computed:{emailVerifyInfo:function(){return{email_address:this.account_info.old_email_address}}},mounted:function(){this.getCurrentUser()}};var q=n(1435),G={insert:"head",singleton:!1};r()(q.Z,G);q.Z.locals;const Z=d(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-5"},[e._v("Account Settings")]),e._v(" "),n("b-row",[n("b-col",{staticClass:"px-3 py-3 text-center",attrs:{xl:""}},[n("i",{staticClass:"fa fa-user-circle mb-4",staticStyle:{"font-size":"120px"}}),e._v(" "),n("h5",{staticClass:"font-weight-bolder"},[e._v(e._s(e.user_fullname))]),e._v(" "),n("h6",{staticClass:"font-weight-bold"},[e._v("Registered since "+e._s(e.user_regdate))]),e._v(" "),n("div",{staticClass:"d-none mt-5",attrs:{id:"alerts"}},[n("b-alert",{staticClass:"d-flex",attrs:{variant:"warning",show:!e.account_info.email_address_verified}},[n("span",{staticClass:"mt-1"},[e._v("Email not verified!")]),e._v(" "),n("b-button",{staticClass:"ml-auto alert-btn",attrs:{variant:"secondary",size:"sm",disabled:e.ev_busy,pill:""},on:{click:e.send_emailverify_mail}},[n("i",{class:"fa fa-spinner"+(e.ev_busy?" mr-1 fa-spin":"d-none")}),e._v("\n                            Verify\n                        ")])],1)],1)]),e._v(" "),n("b-col",{attrs:{xl:""}},[n("b-card",{staticClass:"flex-grow-1",attrs:{"no-body":""}},[n("b-tabs",{attrs:{card:""}},[n("b-tab",{attrs:{title:"Profile",active:""}},[n("b-overlay",{staticClass:"mx-auto p-4 w-xl-75",attrs:{show:e.pi_busy,opacity:"0.3"}},[n("h6",{staticClass:"font-weight-lighter text-center text-black-70"},[e._v("Profile Information")]),e._v(" "),n("div",{staticClass:"font-weight-lighter mb-3 text-center text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"First Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{disabled:"superadmin"==e.username},on:{keyup:function(t){return e.is_valid("first_name")}},model:{value:e.account_info.first_name,callback:function(t){e.$set(e.account_info,"first_name",t)},expression:"account_info.first_name"}}),e._v(" "),e.valid.first_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.first_name))]):e._e()],1),e._v(" "),"superadmin"!=e.username?n("b-form-group",{attrs:{label:"Middle Name"}},[n("b-form-input",{staticClass:"form-control rounded-pill",model:{value:e.account_info.middle_name,callback:function(t){e.$set(e.account_info,"middle_name",t)},expression:"account_info.middle_name"}})],1):e._e(),e._v(" "),n("b-form-group",{attrs:{label:"Last Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{disabled:"superadmin"==e.username},on:{keyup:function(t){return e.is_valid("last_name")}},model:{value:e.account_info.last_name,callback:function(t){e.$set(e.account_info,"last_name",t)},expression:"account_info.last_name"}}),e._v(" "),e.valid.lastname?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.lastname))]):e._e()],1),e._v(" "),"superadmin"!=e.username?n("b-form-row",[n("b-form-group",{staticClass:"col",attrs:{label:"Gender *"}},[n("b-form-select",{staticClass:"form-control rounded-pill",attrs:{options:e.gender_options},on:{change:function(t){return e.is_valid("gender")}},model:{value:e.account_info.gender,callback:function(t){e.$set(e.account_info,"gender",t)},expression:"account_info.gender"}}),e._v(" "),e.valid.gender?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.gender))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"col",attrs:{label:"Birth Date *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"date"},on:{change:function(t){return e.is_valid("birth_date")}},model:{value:e.account_info.birth_date,callback:function(t){e.$set(e.account_info,"birth_date",t)},expression:"account_info.birth_date"}}),e._v(" "),e.valid.birth_date?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.birth_date))]):e._e()],1)],1):e._e(),e._v(" "),n("b-form-group",{attrs:{label:"Email Address *"+(e.account_info.email_address_verified?" (Verified)":" (Not Verified)")}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"email"},on:{keyup:e.check_email},model:{value:e.account_info.email_address,callback:function(t){e.$set(e.account_info,"email_address",t)},expression:"account_info.email_address"}}),e._v(" "),e.valid.email_address?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.email_address))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Mobile Number"}},[n("b-form-input",{staticClass:"form-control rounded-pill",model:{value:e.account_info.mobile_number,callback:function(t){e.$set(e.account_info,"mobile_number",t)},expression:"account_info.mobile_number"}})],1),e._v(" "),n("b-form-group",{attrs:{label:"Position *"}},[n("b-form-select",{staticClass:"form-control rounded-pill",attrs:{options:e.position_options,disabled:"superadmin"==e.username},on:{change:function(t){return e.is_valid("position")}},model:{value:e.account_info.position,callback:function(t){e.$set(e.account_info,"position",t)},expression:"account_info.position"}}),e._v(" "),e.valid.position?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.position))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"mt-4"},[n("b-button",{attrs:{variant:"primary",disabled:""!=e.valid.first_name&&""==e.account_info.first_name||""!=e.valid.last_name&&""==e.account_info.last_name||""!=e.valid.email_address&&""==e.account_info.email_address||""!=e.valid.birth_date&&""==e.account_info.birth_date||""!=e.valid.gender&&"Select Gender"==e.account_info.gender,block:"",pill:""},on:{click:e.update_profile}},[e._v("Save Changes")])],1)],1)],1),e._v(" "),n("b-tab",{attrs:{title:"Login Credentials"}},["superadmin"!=e.username?n("b-overlay",{staticClass:"mx-auto p-4 w-xl-75",attrs:{show:e.lcu_busy,opacity:"0.3"}},[n("h6",{staticClass:"font-weight-lighter text-center text-black-70"},[e._v("Change Username")]),e._v(" "),n("div",{staticClass:"font-weight-lighter mb-3 text-center text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"New Username *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:e.check_username},model:{value:e.uchange.username,callback:function(t){e.$set(e.uchange,"username",t)},expression:"uchange.username"}}),e._v(" "),e.valid.username?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.username))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Confirm Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},model:{value:e.uchange.password,callback:function(t){e.$set(e.uchange,"password",t)},expression:"uchange.password"}})],1),e._v(" "),n("b-form-group",{staticClass:"mt-4"},[n("b-button",{attrs:{variant:"primary",disabled:""!=e.valid.username||!e.uchange.password,block:"",pill:""},on:{click:e.update_username}},[e._v("Save Changes")])],1)],1):e._e(),e._v(" "),n("div",{staticClass:"mx-2 my-4 separator separator-lightgray"}),e._v(" "),n("b-overlay",{staticClass:"p-4 px-5",attrs:{show:e.lcp_busy,opacity:"0.3"}},[n("h6",{staticClass:"font-weight-lighter mb-3 text-center text-black-70"},[e._v("Change Password")]),e._v(" "),n("b-form-group",{attrs:{label:"Old Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},model:{value:e.pchange.old_password,callback:function(t){e.$set(e.pchange,"old_password",t)},expression:"pchange.old_password"}})],1),e._v(" "),n("b-form-group",{attrs:{label:"New Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},on:{keyup:function(t){return e.is_valid("password")}},model:{value:e.pchange.new_password,callback:function(t){e.$set(e.pchange,"new_password",t)},expression:"pchange.new_password"}}),e._v(" "),n("div",{staticClass:"text-danger i-label"},[e.valid.password_length||e.valid.password_cap||e.valid.password_num?n("div",[e._v("Password should contain atleast")]):e._e(),e._v(" "),e.valid.password_length?n("div",{staticClass:"ml-2"},[e._v("9 characters")]):e._e(),e._v(" "),e.valid.password_cap?n("div",{staticClass:"ml-2"},[e._v("1 capital letter")]):e._e(),e._v(" "),e.valid.password_num?n("div",{staticClass:"ml-2"},[e._v("1 number")]):e._e()])],1),e._v(" "),n("b-form-group",{attrs:{label:"Confirm New Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},on:{keyup:function(t){return e.is_valid("password_confirmation")}},model:{value:e.pchange.password_confirmation,callback:function(t){e.$set(e.pchange,"password_confirmation",t)},expression:"pchange.password_confirmation"}}),e._v(" "),e.valid.password_confirmation?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.password_confirmation))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"mt-4"},[n("b-button",{attrs:{variant:"primary",disabled:!e.pchange.old_password||""!=e.valid.password_length||""!=e.valid.password_cap||""!=e.valid.password_num||""!=e.valid.password_confirmation,block:"",pill:""},on:{click:e.update_password}},[e._v("Save Changes")])],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),n("alert",{attrs:{id:"settings_alert",visible:e.alert.show,title:e.alert.title,confirm:e.alert.confirm,message:e.alert.message,okText:e.alert.okText,cancelText:e.alert.cancelText,okClicked:e.alert.okClicked,cancelClicked:e.alert.cancelClicked}})],1)}),[],!1,null,"98eb4902",null).exports;function D(e,t,n,a,s,i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,s)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){D(i,a,s,o,r,"next",e)}function r(e){D(i,a,s,o,r,"throw",e)}o(void 0)}))}}const H={components:{Alert:m},data:function(){var e=this;return{all_accounts:"",table:{current_page:1,filter:"",filter_on:["username","full_name","email_address","position"],fields:[{key:"full_name",label:"Full Name",sortable:!0},{key:"email_address",label:"Email Address",sortable:!0},{key:"position",label:"Position",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],items:[],per_page:6},modal_new:!0,account_info:{sel_username:"",first_name:"",last_name:"",middle_name:"",gender:"Select Gender",birth_date:"",email_address:"",mobile_number:"",position:"Select Position",user_role:"employee",username:"",password:"",password_confirmation:""},same_password:!0,gender_options:["Select Gender","Male","Female"],position_options:["Select Position","Receptionist","Housekeeper","Administrator"],valid:{account_id:-1,first_name:"",last_name:"",gender:"",birth_date:"",email_address:"",position:"",username:"",password_length:"",password_cap:"",password_num:"",password_confirmation:""},isBusy:!1,modalIsBusy:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.$bvModal.hide("signin_alert")},cancelClicked:function(){e.$bvModal.hide("signin_alert")}}}},methods:{getAllEmployees:function(){var e=this;return V(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.table.isBusy=!0,t.next=3,axios.post("/api/accounts/allAccounts",{user_role:"employee"}).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 3:e.all_accounts=t.sent,e.table.items=[],e.all_accounts.forEach((function(t){var n=t.admin;n.account_id=t.account_id,n.username=t.username,e.table.items.push(n)})),e.table.isBusy=!1;case 7:case"end":return t.stop()}}),t)})))()},is_valid:function(e){var t=/^.{2,}$/;switch(e){case"first_name":var n=t.test(this.account_info.first_name);this.valid.first_name=n?"":"Name too short (At least 2 characters)";break;case"last_name":var a=t.test(this.account_info.last_name);this.valid.last_name=a?"":"Name too short (At least 2 characters)";break;case"email_address":var s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.account_info.email_address);this.valid.email_address=s?"":"Invalid email address";break;case"gender":this.valid.gender="Select Gender"==this.account_info.gender?"Field is required":"";break;case"birth_date":this.valid.birth_date=this.account_info.birth_date?"":"Field is required";break;case"position":this.valid.position="Select Position"==this.account_info.position?"Field is required":"";break;case"username":var i=/^.{6,}$/.test(this.account_info.username);this.valid.username=i?"":"Userame too short (At least 6 characters)";break;case"password":var o=/^.{8,}$/.test(this.account_info.password),r=/[A-Z]/.test(this.account_info.password),l=/[0-9]/.test(this.account_info.password);this.valid.password_length=!o,this.valid.password_cap=!r,this.valid.password_num=!l;case"password_confirmation":var c=this.account_info.password==this.account_info.password_confirmation;this.valid.password_confirmation=c?"":"New password doesn't match"}},check_email:function(){var e=V(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_valid("email_address"),this.valid.email_address){e.next=5;break}return e.next=4,axios.get("/api/accounts/checkEmail?email_address="+this.account_info.email_address+"&user_role=employee&username="+this.account_info.sel_username).then((function(e){return e.data?"Email already taken":""})).catch((function(e){console.log(e)}));case 4:this.valid.email_address=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),check_username:function(){var e=V(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_valid("username"),this.valid.username){e.next=5;break}return e.next=4,axios.get("/api/accounts/checkUsername?username="+this.account_info.username+"&old_username="+this.account_info.sel_username).then((function(e){return e.data?"Username already taken":""})).catch((function(e){console.log(e)}));case 4:this.valid.username=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),open_employee_modal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?(this.modal_new=!0,this.account_info.first_name="",this.account_info.last_name="",this.account_info.middle_name="",this.account_info.email_address="",this.account_info.mobile_number="",this.account_info.position="Select Position",this.account_info.username="",this.account_info.password="",this.account_info.password_confirmation="",this.valid.first_name="",this.valid.last_name="",this.valid.email_address="",this.valid.position="",this.valid.username="",this.valid.password_length="",this.valid.password_cap="",this.valid.password_num="",this.valid.password_confirmation="",this.$bvModal.show("employee_modal")):(this.modal_new=!1,this.account_info.account_id=t.account_id,this.account_info.first_name=t.first_name,this.account_info.last_name=t.last_name,this.account_info.middle_name=t.middle_name,this.account_info.gender=t.gender,this.account_info.birth_date=t.birth_date,this.account_info.email_address=t.email_address,this.account_info.mobile_number=t.mobile_number,this.account_info.position=t.position,this.account_info.username=t.username,this.account_info.sel_username=t.username,this.$bvModal.show("employee_modal"))},save_employee:function(){var e=this;return V(s().mark((function t(){var n,a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(""!=e.valid.first_name||""==e.account_info.first_name||""!=e.valid.last_name||""==e.account_info.last_name||""!=e.valid.gender||"Select Gender"==e.account_info.gender||""!=e.valid.birth_date||""==e.account_info.birth_date||""!=e.valid.email_address||""==e.account_info.email_address||""!=e.valid.position||"Select Position"==e.account_info.position||""!=e.valid.username||""==e.account_info.username),a=!(""!=e.valid.password_length||""!=e.valid.password_cap||""!=e.valid.password_num||""==e.account_info.password||""!=e.valid.password_confirmation||""==e.account_info.password_confirmation),i=!1,i=n,e.modal_new||(e.same_password?(e.account_info.password="",e.account_info.password_confirmation=""):i=a),i){t.next=11;break}return e.alert.confirm=!1,e.alert.message="Please fill all the required fields!",e.alert.okClicked=function(){e.$bvModal.hide("employees_alert")},e.$bvModal.show("employees_alert"),t.abrupt("return");case 11:return e.modalIsBusy=!0,t.next=14,axios.post("/api/accounts/"+(e.modal_new?"create":"updateProfile"),e.account_info).then((function(t){return e.modalIsBusy=!1,e.alert.confirm=!1,e.alert.message=t.data.message,e.alert.okClicked=function(){e.$bvModal.hide("employee_modal"),e.$bvModal.hide("employees_alert"),e.account_info.first_name="",e.account_info.last_name="",e.account_info.middle_name="",e.account_info.email_address="",e.account_info.mobile_number="",e.account_info.position="Select Position",e.account_info.username="",e.account_info.password="",e.account_info.password_confirmation="",e.getAllEmployees()},e.$bvModal.show("employees_alert"),t.data.message})).then((function(e){console.log(e)}));case 14:t.sent;case 15:case"end":return t.stop()}}),t)})))()},delete_employee:function(e){var t=this;this.alert.confirm=!0,this.alert.message="Delete Employee record?",this.alert.okClicked=V(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.post("/api/accounts/delete",{account_id:e}).then((function(e){return t.modalIsBusy=!1,t.alert.confirm=!1,t.alert.message=e.data.message,t.alert.okClicked=function(){t.$bvModal.hide("employees_alert"),t.getAllEmployees()},t.$bvModal.show("employees_alert"),e.data.message})).then((function(e){console.log(e)}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)}))),this.alert.cancelClicked=function(){t.$bvModal.hide("employees_alert")},this.$bvModal.show("employees_alert")}},mounted:function(){this.getAllEmployees()}};var W=n(4394),Y={insert:"head",singleton:!1};r()(W.Z,Y);W.Z.locals;const J=d(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-4"},[e._v("Employees")]),e._v(" "),n("div",{staticClass:"border py-3 rounded-sm"},[n("div",{staticClass:"d-flex mb-3"},[n("div",{staticClass:"justify-content-center col-auto"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"success",title:"New Employee"},on:{click:function(t){return e.open_employee_modal(!0)}}},[n("i",{staticClass:"fa fa-plus"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"primary",title:"Refresh"},on:{click:e.getAllEmployees}},[n("i",{class:"fa fa-refresh"+(e.table.isBusy?" fa-spin":"")})])],1),e._v(" "),n("div",{staticClass:"col"},[n("b-input",{staticClass:"form-control rounded-pill",attrs:{placeholder:"Search Employee"},model:{value:e.table.filter,callback:function(t){e.$set(e.table,"filter",t)},expression:"table.filter"}})],1)]),e._v(" "),n("div",{staticClass:"d-flex flex-column"},[n("b-table",{staticClass:"border-bottom vw-75",attrs:{busy:e.table.isBusy,fields:e.table.fields,filter:e.table.filter,"filter-included-fields":e.table.filter_on,"current-page":e.table.current_page,items:e.table.items,striped:"",responsive:"","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("i",{staticClass:"fa fa-spinner fa-10x align-middle"}),e._v(" "),n("strong",[e._v("Loading...")])])]},proxy:!0},{key:"cell(full_name)",fn:function(t){return[e._v("\n                        "+e._s(t.item.first_name+" "+(t.item.middle_name?t.item.middle_name[0]+". ":"")+t.item.last_name)+"\n                    ")]}},{key:"cell(email_address)",fn:function(t){return[e._v("\n                        "+e._s(t.item.email_address+(t.item.email_address_verified?" (Verified)":" (Not Verified)"))+"\n                    ")]}},{key:"cell(position)",fn:function(t){return[e._v("\n                        "+e._s(t.item.position)+"\n                    ")]}},{key:"cell(actions)",fn:function(t){return[n("div",{staticClass:"d-flex justify-content-center"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-lg mx-1",attrs:{variant:"success",size:"sm",title:"Update Record"},on:{click:function(n){return e.open_employee_modal(!1,t.item)}}},[n("i",{staticClass:"fa fa-edit"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-lg mx-1",attrs:{variant:"primary",size:"sm",title:"Delete Record"},on:{click:function(n){return e.delete_employee(t.item.account_id)}}},[n("i",{staticClass:"fa fa-trash"})])],1)]}}])}),e._v(" "),n("b-pagination",{staticClass:"mx-auto my-0",attrs:{"total-rows":e.table.items.length,"per-page":e.table.per_page},model:{value:e.table.current_page,callback:function(t){e.$set(e.table,"current_page",t)},expression:"table .current_page"}})],1)])]),e._v(" "),n("b-modal",{attrs:{id:"employee_modal",title:(e.modal_new?"New":"Update")+" Employee Record",centered:"",scrollable:"","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"d-flex justify-content-center w-100"},[n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"danger",disabled:e.modalIsBusy,block:"",pill:""},on:{click:function(t){return e.$bvModal.hide("employee_modal")}}},[e._v("Cancel")]),e._v(" "),n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"primary",disabled:e.modalIsBusy,block:"",pill:""},on:{click:function(t){return e.save_employee()}}},[e._v("Done")])],1)]},proxy:!0}])},[n("b-overlay",{attrs:{show:e.modalIsBusy,opacity:"0.3"}},[n("b-container",{attrs:{fluid:""}},[n("div",{staticClass:"d-flex justify-content-center mb-4"},[n("i",{staticClass:"fa fa-user-circle my-3",staticStyle:{"font-size":"120px"}})]),e._v(" "),n("b-form",{staticClass:"my-3",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save_employee()}}},[n("h6",{staticClass:"text-success font-weight-bold text-black-70 text-black-70"},[e._v("Basic Information")]),e._v(" "),n("div",{staticClass:"font-weight-lighter ml-2 mb-3 text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"First Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:function(t){return e.is_valid("first_name")}},model:{value:e.account_info.first_name,callback:function(t){e.$set(e.account_info,"first_name",t)},expression:"account_info.first_name"}}),e._v(" "),e.valid.first_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.first_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Middle Name"}},[n("b-form-input",{staticClass:"form-control rounded-pill",model:{value:e.account_info.middle_name,callback:function(t){e.$set(e.account_info,"middle_name",t)},expression:"account_info.middle_name"}})],1),e._v(" "),n("b-form-row",[n("b-form-group",{staticClass:"col",attrs:{label:"Gender *"}},[n("b-form-select",{staticClass:"form-control rounded-pill",attrs:{options:e.gender_options},on:{change:function(t){return e.is_valid("gender")}},model:{value:e.account_info.gender,callback:function(t){e.$set(e.account_info,"gender",t)},expression:"account_info.gender"}}),e._v(" "),e.valid.gender?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.gender))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"col",attrs:{label:"Birth Date *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"date"},on:{change:function(t){return e.is_valid("birth_date")}},model:{value:e.account_info.birth_date,callback:function(t){e.$set(e.account_info,"birth_date",t)},expression:"account_info.birth_date"}}),e._v(" "),e.valid.birth_date?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.birth_date))]):e._e()],1)],1),e._v(" "),n("b-form-group",{attrs:{label:"Last Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:function(t){return e.is_valid("last_name")}},model:{value:e.account_info.last_name,callback:function(t){e.$set(e.account_info,"last_name",t)},expression:"account_info.last_name"}}),e._v(" "),e.valid.last_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.last_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Email Address *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"email"},on:{keyup:e.check_email},model:{value:e.account_info.email_address,callback:function(t){e.$set(e.account_info,"email_address",t)},expression:"account_info.email_address"}}),e._v(" "),e.valid.email_address?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.email_address))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Mobile Number"}},[n("b-form-input",{staticClass:"form-control rounded-pill",model:{value:e.account_info.mobile_number,callback:function(t){e.$set(e.account_info,"mobile_number",t)},expression:"account_info.mobile_number"}})],1),e._v(" "),n("b-form-group",{staticClass:"mb-5",attrs:{label:"Position *"}},[n("b-form-select",{staticClass:"form-control rounded-pill",attrs:{options:e.position_options},on:{change:function(t){return e.is_valid("position")}},model:{value:e.account_info.position,callback:function(t){e.$set(e.account_info,"position",t)},expression:"account_info.position"}}),e._v(" "),e.valid.position?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.position))]):e._e()],1),e._v(" "),n("h6",{staticClass:"text-success font-weight-bold text-black-70"},[e._v("Login Credentials")]),e._v(" "),n("div",{staticClass:"font-weight-lighter ml-2 mb-3 text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"Username *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:e.check_username},model:{value:e.account_info.username,callback:function(t){e.$set(e.account_info,"username",t)},expression:"account_info.username"}}),e._v(" "),e.valid.username?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.username))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"mb-3"},[!e.same_password||e.modal_new?n("div",[n("b-form-group",{attrs:{label:"Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},on:{keyup:function(t){return e.is_valid("password")}},model:{value:e.account_info.password,callback:function(t){e.$set(e.account_info,"password",t)},expression:"account_info.password"}}),e._v(" "),n("div",{staticClass:"text-danger i-label"},[e.valid.password_length||e.valid.password_cap||e.valid.password_num?n("div",[e._v("Password should contain atleast")]):e._e(),e._v(" "),e.valid.password_length?n("div",{staticClass:"ml-2"},[e._v("9 characters")]):e._e(),e._v(" "),e.valid.password_cap?n("div",{staticClass:"ml-2"},[e._v("1 capital letter")]):e._e(),e._v(" "),e.valid.password_num?n("div",{staticClass:"ml-2"},[e._v("1 number")]):e._e()])],1),e._v(" "),n("b-form-group",{attrs:{label:"Confirm Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},on:{keyup:function(t){return e.is_valid("password_confirmation")}},model:{value:e.account_info.password_confirmation,callback:function(t){e.$set(e.account_info,"password_confirmation",t)},expression:"account_info.password_confirmation"}}),e._v(" "),e.valid.password_confirmation?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.password_confirmation))]):e._e()],1)],1):e._e(),e._v(" "),e.modal_new?e._e():n("b-form-checkbox",{model:{value:e.same_password,callback:function(t){e.same_password=t},expression:"same_password"}},[n("span",{staticClass:"cbox-label"},[e._v("\n                                Same password as before?\n                            ")])])],1)],1)],1)],1)],1),e._v(" "),n("alert",{attrs:{id:"employees_alert",visible:e.alert.show,title:e.alert.title,confirm:e.alert.confirm,message:e.alert.message,okText:e.alert.okText,cancelText:e.alert.cancelText,okClicked:e.alert.okClicked,cancelClicked:e.alert.cancelClicked}})],1)}),[],!1,null,"21ce211a",null).exports;function X(e,t,n,a,s,i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,s)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){X(i,a,s,o,r,"next",e)}function r(e){X(i,a,s,o,r,"throw",e)}o(void 0)}))}}const Q={components:{Alert:m},data:function(){var e=this;return{all_accounts:"",table:{current_page:1,filter:"",filter_on:["username","full_name","email_address"],fields:[{key:"full_name",label:"Full Name",sortable:!0},{key:"email_address",label:"Email Address",sortable:!0},{key:"paypal_linked",label:"Paypal Linked",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],items:[],per_page:6},modal_new:!0,account_info:{sel_username:"",first_name:"",last_name:"",middle_name:"",gender:"Select Gender",birth_date:"",email_address:"",mobile_number:"",user_role:"guest",username:"",password:"",password_confirmation:""},same_password:!0,gender_options:["Select Gender","Male","Female"],valid:{account_id:-1,first_name:"",last_name:"",gender:"",birth_date:"",email_address:"",username:"",password_length:"",password_cap:"",password_num:"",password_confirmation:""},isBusy:!1,modalIsBusy:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.$bvModal.hide("signin_alert")},cancelClicked:function(){e.$bvModal.hide("signin_alert")}}}},methods:{getAllGuests:function(){var e=this;return K(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.table.isBusy=!0,t.next=3,axios.post("/api/accounts/allAccounts",{user_role:"guest"}).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 3:e.all_accounts=t.sent,e.table.items=[],e.all_accounts.forEach((function(t){var n=t.user;n.account_id=t.account_id,n.username=t.username,e.table.items.push(n)})),e.table.isBusy=!1;case 7:case"end":return t.stop()}}),t)})))()},is_valid:function(e){var t=/^.{2,}$/;switch(e){case"first_name":var n=t.test(this.account_info.first_name);this.valid.first_name=n?"":"Name too short (At least 2 characters)";break;case"last_name":var a=t.test(this.account_info.last_name);this.valid.last_name=a?"":"Name too short (At least 2 characters)";break;case"email_address":var s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.account_info.email_address);this.valid.email_address=s?"":"Invalid email address";break;case"gender":this.valid.gender="Select Gender"==this.account_info.gender?"Field is required":"";break;case"birth_date":this.valid.birth_date=this.account_info.birth_date?"":"Field is required";break;case"username":var i=/^.{6,}$/.test(this.account_info.username);this.valid.username=i?"":"Userame too short (At least 6 characters)";break;case"password":var o=/^.{8,}$/.test(this.account_info.password),r=/[A-Z]/.test(this.account_info.password),l=/[0-9]/.test(this.account_info.password);this.valid.password_length=!o,this.valid.password_cap=!r,this.valid.password_num=!l;case"password_confirmation":var c=this.account_info.password==this.account_info.password_confirmation;this.valid.password_confirmation=c?"":"New password doesn't match"}},check_email:function(){var e=K(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_valid("email_address"),this.valid.email_address){e.next=5;break}return e.next=4,axios.get("/api/accounts/checkEmail?email_address="+this.account_info.email_address+"&user_role=guest&username="+this.account_info.sel_username).then((function(e){return e.data?"Email already taken":""})).catch((function(e){console.log(e)}));case 4:this.valid.email_address=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),check_username:function(){var e=K(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_valid("username"),this.valid.username){e.next=5;break}return e.next=4,axios.get("/api/accounts/checkUsername?username="+this.account_info.username+"&old_username="+this.account_info.sel_username).then((function(e){return e.data?"Username already taken":""})).catch((function(e){console.log(e)}));case 4:this.valid.username=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),open_guest_modal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?(this.modal_new=!0,this.account_info.first_name="",this.account_info.last_name="",this.account_info.middle_name="",this.account_info.email_address="",this.account_info.mobile_number="",this.account_info.username="",this.account_info.password="",this.account_info.password_confirmation="",this.valid.first_name="",this.valid.last_name="",this.valid.email_address="",this.valid.username="",this.valid.password_length="",this.valid.password_cap="",this.valid.password_num="",this.valid.password_confirmation="",this.$bvModal.show("guest_modal")):(this.modal_new=!1,this.account_info.account_id=t.account_id,this.account_info.first_name=t.first_name,this.account_info.last_name=t.last_name,this.account_info.middle_name=t.middle_name,this.account_info.gender=t.gender,this.account_info.birth_date=t.birth_date,this.account_info.email_address=t.email_address,this.account_info.mobile_number=t.mobile_number,this.account_info.username=t.username,this.account_info.sel_username=t.username,this.$bvModal.show("guest_modal"))},save_guest:function(){var e=this;return K(s().mark((function t(){var n,a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(""!=e.valid.first_name||""==e.account_info.first_name||""!=e.valid.last_name||""==e.account_info.last_name||""!=e.valid.gender||"Select Gender"==e.account_info.gender||""!=e.valid.birth_date||""==e.account_info.birth_date||""!=e.valid.email_address||""==e.account_info.email_address||""!=e.valid.username||""==e.account_info.username),a=!(""!=e.valid.password_length||""!=e.valid.password_cap||""!=e.valid.password_num||""==e.account_info.password||""!=e.valid.password_confirmation||""==e.account_info.password_confirmation),i=!1,i=n,e.modal_new||(e.same_password?(e.account_info.password="",e.account_info.password_confirmation=""):i=a),i){t.next=11;break}return e.alert.confirm=!1,e.alert.message="Please fill all the required fields!",e.alert.okClicked=function(){e.$bvModal.hide("guests_alert")},e.$bvModal.show("guests_alert"),t.abrupt("return");case 11:return e.modalIsBusy=!0,t.next=14,axios.post("/api/accounts/"+(e.modal_new?"create":"updateProfile"),e.account_info).then((function(t){return e.modalIsBusy=!1,e.alert.confirm=!1,e.alert.message=t.data.message,e.alert.okClicked=function(){e.$bvModal.hide("guest_modal"),e.$bvModal.hide("guests_alert"),e.account_info.first_name="",e.account_info.last_name="",e.account_info.middle_name="",e.account_info.email_address="",e.account_info.mobile_number="",e.account_info.username="",e.account_info.password="",e.account_info.password_confirmation="",e.getAllGuests()},e.$bvModal.show("guests_alert"),t.data.message})).then((function(e){console.log(e)}));case 14:t.sent;case 15:case"end":return t.stop()}}),t)})))()},delete_guest:function(e){var t=this;this.alert.confirm=!0,this.alert.message="Delete Guest record?",this.alert.okClicked=K(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.post("/api/accounts/delete",{account_id:e}).then((function(e){return t.modalIsBusy=!1,t.alert.confirm=!1,t.alert.message=e.data.message,t.alert.okClicked=function(){t.$bvModal.hide("guests_alert"),t.getAllGuests()},t.$bvModal.show("guests_alert"),e.data.message})).then((function(e){console.log(e)}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)}))),this.alert.cancelClicked=function(){t.$bvModal.hide("guests_alert")},this.$bvModal.show("guests_alert")}},mounted:function(){this.getAllGuests()}};var ee=n(3461),te={insert:"head",singleton:!1};r()(ee.Z,te);ee.Z.locals;const ne=d(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100"},[n("h3",{staticClass:"mb-4"},[e._v("Guests")]),e._v(" "),n("div",{staticClass:"border py-3 rounded-sm"},[n("div",{staticClass:"d-flex mb-3"},[n("div",{staticClass:"justify-content-center col-auto"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"success",title:"New Guest"},on:{click:function(t){return e.open_guest_modal(!0)}}},[n("i",{staticClass:"fa fa-plus"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-circle",attrs:{variant:"primary",title:"Refresh"},on:{click:e.getAllGuests}},[n("i",{class:"fa fa-refresh"+(e.table.isBusy?" fa-spin":"")})])],1),e._v(" "),n("div",{staticClass:"col"},[n("b-input",{staticClass:"form-control rounded-pill",attrs:{placeholder:"Search Guest"},model:{value:e.table.filter,callback:function(t){e.$set(e.table,"filter",t)},expression:"table.filter"}})],1)]),e._v(" "),n("div",{staticClass:"d-flex flex-column"},[n("b-table",{staticClass:"border-bottom vw-75",attrs:{busy:e.table.isBusy,fields:e.table.fields,filter:e.table.filter,"filter-included-fields":e.table.filter_on,"current-page":e.table.current_page,items:e.table.items,striped:"",responsive:"","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("i",{staticClass:"fa fa-spinner fa-10x align-middle"}),e._v(" "),n("strong",[e._v("Loading...")])])]},proxy:!0},{key:"cell(full_name)",fn:function(t){return[e._v("\n                        "+e._s(t.item.first_name+" "+(t.item.middle_name?t.item.middle_name[0]+". ":"")+t.item.last_name)+"\n                    ")]}},{key:"cell(email_address)",fn:function(t){return[e._v("\n                        "+e._s(t.item.email_address+(t.item.email_address_verified?" (Verified)":" (Not Verified)"))+"\n                    ")]}},{key:"cell(paypal_linked)",fn:function(t){return[e._v("\n                        "+e._s(t.item.paypal_id?"Yes":"No")+"\n                    ")]}},{key:"cell(actions)",fn:function(t){return[n("div",{staticClass:"d-flex justify-content-center"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-lg mx-1",attrs:{variant:"success",size:"sm",title:"Update Record"},on:{click:function(n){return e.open_guest_modal(!1,t.item)}}},[n("i",{staticClass:"fa fa-edit"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.noninteractive",modifiers:{hover:!0,noninteractive:!0}}],staticClass:"rounded-lg mx-1",attrs:{variant:"primary",size:"sm",title:"Delete Record"},on:{click:function(n){return e.delete_guest(t.item.account_id)}}},[n("i",{staticClass:"fa fa-trash"})])],1)]}}])}),e._v(" "),n("b-pagination",{staticClass:"mx-auto my-0",attrs:{"total-rows":e.table.items.length,"per-page":e.table.per_page},model:{value:e.table.current_page,callback:function(t){e.$set(e.table,"current_page",t)},expression:"table .current_page"}})],1)])]),e._v(" "),n("b-modal",{attrs:{id:"guest_modal",title:(e.modal_new?"New":"Update")+" Guest Record",centered:"",scrollable:"","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"d-flex justify-content-center w-100"},[n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"danger",disabled:e.modalIsBusy,block:"",pill:""},on:{click:function(t){return e.$bvModal.hide("guest_modal")}}},[e._v("Cancel")]),e._v(" "),n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"primary",disabled:e.modalIsBusy,block:"",pill:""},on:{click:function(t){return e.save_guest()}}},[e._v("Done")])],1)]},proxy:!0}])},[n("b-overlay",{attrs:{show:e.modalIsBusy,opacity:"0.3"}},[n("b-container",{attrs:{fluid:""}},[n("div",{staticClass:"d-flex justify-content-center mb-4"},[n("i",{staticClass:"fa fa-user-circle my-3",staticStyle:{"font-size":"120px"}})]),e._v(" "),n("b-form",{staticClass:"my-3",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save_guest()}}},[n("h6",{staticClass:"text-success font-weight-bold text-black-70 text-black-70"},[e._v("Basic Information")]),e._v(" "),n("div",{staticClass:"font-weight-lighter ml-2 mb-3 text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"First Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:function(t){return e.is_valid("first_name")}},model:{value:e.account_info.first_name,callback:function(t){e.$set(e.account_info,"first_name",t)},expression:"account_info.first_name"}}),e._v(" "),e.valid.first_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.first_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Middle Name"}},[n("b-form-input",{staticClass:"form-control rounded-pill",model:{value:e.account_info.middle_name,callback:function(t){e.$set(e.account_info,"middle_name",t)},expression:"account_info.middle_name"}})],1),e._v(" "),n("b-form-row",[n("b-form-group",{staticClass:"col",attrs:{label:"Gender *"}},[n("b-form-select",{staticClass:"form-control rounded-pill",attrs:{options:e.gender_options},on:{change:function(t){return e.is_valid("gender")}},model:{value:e.account_info.gender,callback:function(t){e.$set(e.account_info,"gender",t)},expression:"account_info.gender"}}),e._v(" "),e.valid.gender?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.gender))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"col",attrs:{label:"Birth Date *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"date"},on:{change:function(t){return e.is_valid("birth_date")}},model:{value:e.account_info.birth_date,callback:function(t){e.$set(e.account_info,"birth_date",t)},expression:"account_info.birth_date"}}),e._v(" "),e.valid.birth_date?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.birth_date))]):e._e()],1)],1),e._v(" "),n("b-form-group",{attrs:{label:"Last Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:function(t){return e.is_valid("last_name")}},model:{value:e.account_info.last_name,callback:function(t){e.$set(e.account_info,"last_name",t)},expression:"account_info.last_name"}}),e._v(" "),e.valid.last_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.last_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Email Address *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"email"},on:{keyup:e.check_email},model:{value:e.account_info.email_address,callback:function(t){e.$set(e.account_info,"email_address",t)},expression:"account_info.email_address"}}),e._v(" "),e.valid.email_address?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.email_address))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"mb-5",attrs:{label:"Mobile Number"}},[n("b-form-input",{staticClass:"form-control rounded-pill",model:{value:e.account_info.mobile_number,callback:function(t){e.$set(e.account_info,"mobile_number",t)},expression:"account_info.mobile_number"}})],1),e._v(" "),n("h6",{staticClass:"text-success font-weight-bold text-black-70"},[e._v("Login Credentials")]),e._v(" "),n("div",{staticClass:"font-weight-lighter ml-2 mb-3 text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"Username *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:e.check_username},model:{value:e.account_info.username,callback:function(t){e.$set(e.account_info,"username",t)},expression:"account_info.username"}}),e._v(" "),e.valid.username?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.username))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"mb-3"},[!e.same_password||e.modal_new?n("div",[n("b-form-group",{attrs:{label:"Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},on:{keyup:function(t){return e.is_valid("password")}},model:{value:e.account_info.password,callback:function(t){e.$set(e.account_info,"password",t)},expression:"account_info.password"}}),e._v(" "),n("div",{staticClass:"text-danger i-label"},[e.valid.password_length||e.valid.password_cap||e.valid.password_num?n("div",[e._v("Password should contain atleast")]):e._e(),e._v(" "),e.valid.password_length?n("div",{staticClass:"ml-2"},[e._v("9 characters")]):e._e(),e._v(" "),e.valid.password_cap?n("div",{staticClass:"ml-2"},[e._v("1 capital letter")]):e._e(),e._v(" "),e.valid.password_num?n("div",{staticClass:"ml-2"},[e._v("1 number")]):e._e()])],1),e._v(" "),n("b-form-group",{attrs:{label:"Confirm Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},on:{keyup:function(t){return e.is_valid("password_confirmation")}},model:{value:e.account_info.password_confirmation,callback:function(t){e.$set(e.account_info,"password_confirmation",t)},expression:"account_info.password_confirmation"}}),e._v(" "),e.valid.password_confirmation?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.password_confirmation))]):e._e()],1)],1):e._e(),e._v(" "),e.modal_new?e._e():n("b-form-checkbox",{model:{value:e.same_password,callback:function(t){e.same_password=t},expression:"same_password"}},[n("span",{staticClass:"cbox-label"},[e._v("\n                                Same password as before?\n                            ")])])],1)],1)],1)],1)],1),e._v(" "),n("alert",{attrs:{id:"guests_alert",visible:e.alert.show,title:e.alert.title,confirm:e.alert.confirm,message:e.alert.message,okText:e.alert.okText,cancelText:e.alert.cancelText,okClicked:e.alert.okClicked,cancelClicked:e.alert.cancelClicked}})],1)}),[],!1,null,"dc4c37c4",null).exports;function ae(e,t,n,a,s,i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,s)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){ae(i,a,s,o,r,"next",e)}function r(e){ae(i,a,s,o,r,"throw",e)}o(void 0)}))}}const ie={components:{Alert:m},data:function(){var e=this;return{useUsername:!0,loginInfo:{username:"",password:"",remember:!1},forgotPassInfo:{email_address:""},valid:{email_address:""},modalIsBusy:!1,isBusy:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.$bvModal.hide("signin_alert")},cancelClicked:function(){e.$bvModal.hide("signin_alert")}}}},methods:{signIn:function(){var e=this;return se(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isBusy=!0,t.next=3,axios.post("/api/accounts/signin",e.loginInfo).then((function(t){return e.isBusy=!1,t.data.username?e.$emit("signedin"):(e.alert.confirm=!1,e.alert.message=t.data.message,e.alert.okClicked=function(){e.$bvModal.hide("signin_alert")},e.$bvModal.show("signin_alert")),t.data})).catch((function(t){e.isBusy=!0,console.log(t)}));case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},is_valid:function(e){switch(e){case"email_address":var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.forgotPassInfo.email_address);this.valid.email_address=t?"":"Invalid email address"}},send_passchange_mail:function(){var e=this;return se(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.modalIsBusy=!0,t.next=3,axios.post("/api/token/passchange/create",e.forgotPassInfo).then((function(t){return e.modalIsBusy=!1,e.alert.confirm=!1,e.alert.message=t.data.message,e.alert.okClicked=function(){e.$bvModal.hide("signin_alert"),e.$bvModal.hide("forgot_pass_modal"),e.forgotPassInfo.email_address="",e.valid.email_address=""},e.$bvModal.show("signin_alert"),t.data})).catch((function(t){e.isBusy=!0,console.log(t)}));case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()}}};var oe=n(8379),re={insert:"head",singleton:!1};r()(oe.Z,re);oe.Z.locals;const le=d(ie,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center signin-wrapper bg-white border shadow-sm rounded-sm p-5",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signIn(t)}}},[e._m(0),e._v(" "),n("b-overlay",{attrs:{show:e.isBusy,opacity:"0.3"}},[n("b-form",{staticClass:"my-3"},[n("b-form-group",{attrs:{label:"Username"}},[n("b-form-input",{staticClass:"form-control rounded-pill",model:{value:e.loginInfo.username,callback:function(t){e.$set(e.loginInfo,"username",t)},expression:"loginInfo.username"}})],1),e._v(" "),n("b-form-group",{attrs:{label:"Password"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},model:{value:e.loginInfo.password,callback:function(t){e.$set(e.loginInfo,"password",t)},expression:"loginInfo.password"}})],1),e._v(" "),n("b-form-group",{staticClass:"px-2"},[n("div",{staticClass:"d-flex justify-content-between"},[n("b-form-checkbox",{model:{value:e.loginInfo.remember,callback:function(t){e.$set(e.loginInfo,"remember",t)},expression:"loginInfo.remember"}},[n("span",{staticClass:"cbox-label"},[e._v("Remember Me")])]),e._v(" "),n("a",{staticClass:"text-primary fpass-label",attrs:{href:"#"},on:{click:function(t){return e.$bvModal.show("forgot_pass_modal")}}},[e._v("Forgot Password")])],1)]),e._v(" "),n("b-form-group",{staticClass:"mt-4"},[n("b-button",{attrs:{variant:"primary",disabled:!(e.loginInfo.username&&e.loginInfo.password),block:"",pill:""},on:{click:e.signIn}},[e._v("Sign In")])],1)],1)],1)],1),e._v(" "),n("b-modal",{attrs:{id:"forgot_pass_modal",centered:"","hide-footer":""}},[n("b-overlay",{staticClass:"mx-4 p-2",attrs:{show:e.modalIsBusy,opacity:"0.3"}},[n("i",{staticClass:"d-block fa fa-key text-center mb-2",staticStyle:{"font-size":"48px"}}),e._v(" "),n("h4",{staticClass:"font-weight-bold text-center mb-3"},[e._v("Forgot Password")]),e._v(" "),n("h6",{staticClass:"font-weight-lighter text-center text-black-60 mb-4"},[e._v("Send a mail to email address to reset password")]),e._v(" "),n("b-form-group",{staticClass:"mb-4",attrs:{label:"Email Address"}},[n("b-form-input",{staticClass:"form-control rounded-pill text-center",attrs:{type:"email"},on:{keyup:function(t){return e.is_valid("email_address")}},model:{value:e.forgotPassInfo.email_address,callback:function(t){e.$set(e.forgotPassInfo,"email_address",t)},expression:"forgotPassInfo.email_address"}}),e._v(" "),e.valid.email_address?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.email_address))]):e._e()],1),e._v(" "),n("div",{staticClass:"d-flex justify-content-center w-100"},[n("b-button",{staticClass:"m-2 w-50",attrs:{size:"sm",variant:"primary",disabled:e.modalIsBusy||""==e.forgotPassInfo.email_address||""!=e.valid.email_address,block:"",pill:""},on:{click:function(t){return e.send_passchange_mail()}}},[e._v("Done")])],1)],1)],1),e._v(" "),n("alert",{attrs:{id:"signin_alert",visible:e.alert.show,title:e.alert.title,confirm:e.alert.confirm,message:e.alert.message,okText:e.alert.okText,cancelText:e.alert.cancelText,okClicked:e.alert.okClicked,cancelClicked:e.alert.cancelClicked}})],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-5 text-center"},[n("img",{staticClass:"mb-3 navbar-logo",attrs:{src:"/storage/media/logo-vida.svg",alt:""}}),e._v(" "),n("h3",{staticClass:"font-weight-bold text-center"},[e._v("Administrator Login")])])}],!1,null,"6b6abbd3",null).exports;function ce(e,t,n,a,s,i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,s)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){ce(i,a,s,o,r,"next",e)}function r(e){ce(i,a,s,o,r,"throw",e)}o(void 0)}))}}const me={components:{Alert:m},data:function(){var e=this;return{completed:[!1,!1],step:0,account_info:{first_name:"",last_name:"",email_address:"",position:"Select Position",username:"",password:"",password_confirmation:""},position_options:["Select Position","Receptionist","Housekeeper","Administrator"],accept_terms:!1,valid:{first_name:"",last_name:"",email_address:"",position:"",username:"",password_length:"",password_cap:"",password_num:"",password_confirmation:""},username_status:"",isBusy:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.$bvModal.hide("signup_alert")},cancelClicked:function(){e.$bvModal.hide("signup_alert")}}}},methods:{signUp:function(e){var t=this;return de(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next=1===n.t0?3:2===n.t0?5:3===n.t0?8:21;break;case 3:return t.step=1,n.abrupt("break",22);case 5:return t.completed[0]=t.account_info.first_name&&t.account_info.last_name&&t.account_info.email_address&&"Select Position"!=t.account_info.position,t.completed[0]?t.accept_terms?t.step=2:(t.alert.confirm=!1,t.alert.message="Please agree to the Terms and Conditions to continue!",t.alert.okClicked=function(){t.$bvModal.hide("signup_alert")},t.$bvModal.show("signup_alert")):(t.alert.confirm=!1,t.alert.message="Please complete all fields!",t.alert.okClicked=function(){t.$bvModal.hide("signup_alert")},t.$bvModal.show("signup_alert")),n.abrupt("break",22);case 8:if(t.completed[1]=t.account_info.username&&t.account_info.password&&t.account_info.password_confirmation,!t.completed[1]){n.next=16;break}return t.isBusy=!0,n.next=13,axios.post("/api/accounts/signup",t.account_info).then((function(e){return t.isBusy=!1,t.alert.confirm=!1,t.alert.message=e.data.message,t.alert.okClicked=function(){t.$bvModal.hide("signup_alert"),t.$emit("signedin")},t.$bvModal.show("signup_alert"),e.data})).catch((function(e){console.log(e)}));case 13:n.sent,n.next=20;break;case 16:t.alert.confirm=!1,t.alert.message="Please complete all fields!",t.alert.okClicked=function(){t.$bvModal.hide("signup_alert")},t.$bvModal.show("signup_alert");case 20:case 21:return n.abrupt("break",22);case 22:case"end":return n.stop()}}),n)})))()},is_valid:function(e){var t=/^.{2,}$/;switch(e){case"first_name":var n=t.test(this.account_info.first_name);this.valid.first_name=n?"":"Name too short (At least 2 characters)";break;case"last_name":var a=t.test(this.account_info.last_name);this.valid.last_name=a?"":"Name too short (At least 2 characters)";break;case"email_address":var s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.account_info.email_address);this.valid.email_address=s?"":"Invalid email address";break;case"position":this.valid.position="Select Position"==this.account_info.position?"Field is required":"";break;case"username":var i=/^.{6,}$/.test(this.account_info.username);this.valid.username=i?"":"Userame too short (At least 6 characters)";break;case"password":var o=/^.{8,}$/.test(this.account_info.password),r=/[A-Z]/.test(this.account_info.password),l=/[0-9]/.test(this.account_info.password);this.valid.password_length=!o,this.valid.password_cap=!r,this.valid.password_num=!l;break;case"password_confirmation":var c=this.account_info.password==this.account_info.password_confirmation;this.valid.password_confirmation=c?"":"New password doesn't match"}},check_email:function(){var e=de(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_valid("email_address"),this.valid.email_address){e.next=5;break}return e.next=4,axios.get("/api/accounts/checkEmail?email_address="+this.account_info.email_address).then((function(e){return e.data?"Email already taken":null})).catch((function(e){console.log(e)}));case 4:this.valid.email_address=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),check_username:function(){var e=de(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_valid("username"),this.valid.username){e.next=5;break}return e.next=4,axios.get("/api/accounts/checkUsername?username="+this.account_info.username).then((function(e){return e.data?"Username already taken":null})).catch((function(e){console.log(e)}));case 4:this.valid.username=e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},watch:{}};var ue=n(5083),fe={insert:"head",singleton:!1};r()(ue.Z,fe);ue.Z.locals;const _e=d(me,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center p-5"},[n("div",{staticClass:"align-self-center signup-wrapper bg-white border shadow-sm rounded-sm p-5"},[n("b-overlay",{attrs:{show:e.isBusy}},[n("div",{staticClass:"mb-5"},[n("h2",{staticClass:"font-weight-bold text-center"},[e._v("Create Account")]),e._v(" "),n("h6",{staticClass:"font-weight-lighter text-center text-black-50"},[e._v("Do more, book more! Create and account now to book reservations at our hotel.")])]),e._v(" "),0==e.step?n("b-form",{staticClass:"my-3"},[n("b-form-group",{staticClass:"mt-4"},[n("b-button",{attrs:{variant:"primary",block:"",pill:""},on:{click:function(t){return e.signUp(++e.step)}}},[e._v("Continue")])],1)],1):e._e(),e._v(" "),1==e.step?n("b-form",{staticClass:"my-3",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signUp(2)}}},[n("h6",{staticClass:"font-weight-lighter text-center text-black-70"},[e._v("Basic Information")]),e._v(" "),n("div",{staticClass:"font-weight-lighter mb-3 text-center text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"First Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:function(t){return e.is_valid("first_name")}},model:{value:e.account_info.first_name,callback:function(t){e.$set(e.account_info,"first_name",t)},expression:"account_info.first_name"}}),e._v(" "),e.valid.first_name?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.first_name))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Last Name *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:function(t){return e.is_valid("last_name")}},model:{value:e.account_info.last_name,callback:function(t){e.$set(e.account_info,"last_name",t)},expression:"account_info.last_name"}}),e._v(" "),e.valid.lastname?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.lastname))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Email Address *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"email"},on:{keyup:e.check_email},model:{value:e.account_info.email_address,callback:function(t){e.$set(e.account_info,"email_address",t)},expression:"account_info.email_address"}}),e._v(" "),e.valid.email_address?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.email_address))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Position *"}},[n("b-form-select",{staticClass:"form-control rounded-pill",attrs:{options:e.position_options},on:{change:function(t){return e.is_valid("position")}},model:{value:e.account_info.position,callback:function(t){e.$set(e.account_info,"position",t)},expression:"account_info.position"}}),e._v(" "),e.valid.position?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.position))]):e._e()],1),e._v(" "),n("b-form-group",[n("b-form-checkbox",{model:{value:e.accept_terms,callback:function(t){e.accept_terms=t},expression:"accept_terms"}},[n("span",{staticClass:"cbox-label"},[e._v("\n                            I have read and agree to the "),n("router-link",{staticClass:"terms-label",attrs:{to:{name:"termsconditions"}}},[e._v("Terms and Conditions")]),e._v(".\n                        ")],1)])],1),e._v(" "),n("div",{staticClass:"d-flex mx-2 my-3"},[n("div",{staticClass:"col align-self-center separator separator-lightgray"})]),e._v(" "),n("div",{staticClass:"mb-4 px-2"},[n("span",{staticClass:"d-block font-weight-lighter text-center text-black-50 note-text"},[e._v("Please visit our "),n("router-link",{staticClass:"priv-label",attrs:{to:{name:"privacypolicy"}}},[e._v("Privacy Policy")]),e._v(" to understand how we handle your personal data")],1)]),e._v(" "),n("b-form-group",{staticClass:"mt-4"},[n("b-button",{attrs:{variant:"primary",block:"",pill:""},on:{click:function(t){return e.signUp(2)}}},[e._v("Next")])],1)],1):e._e(),e._v(" "),2==e.step?n("b-form",{staticClass:"my-3",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signUp(3)}}},[n("h6",{staticClass:"font-weight-lighter text-center text-black-70"},[e._v("Login Credentials")]),e._v(" "),n("div",{staticClass:"font-weight-lighter mb-3 text-center text-danger w-100",staticStyle:{"font-size":"9px"}},[e._v("* Required Field")]),e._v(" "),n("b-form-group",{attrs:{label:"Username *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",on:{keyup:e.check_username},model:{value:e.account_info.username,callback:function(t){e.$set(e.account_info,"username",t)},expression:"account_info.username"}}),e._v(" "),e.valid.username?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.username))]):e._e()],1),e._v(" "),n("b-form-group",{attrs:{label:"Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},on:{keyup:function(t){return e.is_valid("password")}},model:{value:e.account_info.password,callback:function(t){e.$set(e.account_info,"password",t)},expression:"account_info.password"}}),e._v(" "),n("div",{staticClass:"text-danger i-label"},[e.valid.password_length||e.valid.password_cap||e.valid.password_num?n("div",[e._v("Password should contain atleast")]):e._e(),e._v(" "),e.valid.password_length?n("div",{staticClass:"ml-2"},[e._v("9 characters")]):e._e(),e._v(" "),e.valid.password_cap?n("div",{staticClass:"ml-2"},[e._v("1 capital letter")]):e._e(),e._v(" "),e.valid.password_num?n("div",{staticClass:"ml-2"},[e._v("1 number")]):e._e()])],1),e._v(" "),n("b-form-group",{attrs:{label:"Confirm Password *"}},[n("b-form-input",{staticClass:"form-control rounded-pill",attrs:{type:"password"},on:{keyup:function(t){return e.is_valid("password_confirmation")}},model:{value:e.account_info.password_confirmation,callback:function(t){e.$set(e.account_info,"password_confirmation",t)},expression:"account_info.password_confirmation"}}),e._v(" "),e.valid.password_confirmation?n("span",{staticClass:"text-danger i-label"},[e._v(e._s(e.valid.password_confirmation))]):e._e()],1),e._v(" "),n("b-form-group",{staticClass:"mt-4"},[n("b-button",{attrs:{variant:"primary",block:"",pill:""},on:{click:function(t){return e.signUp(3)}}},[e._v("Done")])],1)],1):e._e(),e._v(" "),0==e.step?n("div",[n("div",{staticClass:"d-flex my-4"},[n("div",{staticClass:"col align-self-center separator"}),e._v(" "),n("span",{staticClass:"col-auto align-self-center px-1"},[e._v("or")]),e._v(" "),n("div",{staticClass:"col align-self-center separator"})]),e._v(" "),n("div",{staticClass:"mb-5"},[n("h2",{staticClass:"font-weight-bold text-center"},[e._v("Sign In")]),e._v(" "),n("h6",{staticClass:"font-weight-lighter text-center text-black-50"},[e._v("Already have an account? Sign In now!")])]),e._v(" "),n("b-form-group",{staticClass:"mt-4"},[n("router-link",{staticClass:"btn btn-block btn-warning rounded-pill",attrs:{to:{name:"signin"}}},[e._v("Sign In")])],1)],1):e._e()],1)],1),e._v(" "),n("b-modal",{attrs:{id:"emailVerify",centered:"",scrollable:"","no-close-on-backdrop":"","hide-header":"","hide-footer":""}},[e._v("\n        Test\n    ")]),e._v(" "),n("alert",{attrs:{id:"signup_alert",visible:e.alert.show,title:e.alert.title,confirm:e.alert.confirm,message:e.alert.message,okText:e.alert.okText,cancelText:e.alert.cancelText,okClicked:e.alert.okClicked,cancelClicked:e.alert.cancelClicked}})],1)}),[],!1,null,"c1d8be5e",null).exports;const pe={data:function(){return{location:location.pathname}},methods:{getPath:function(){var e=location.pathname;e=(e=e.substring(e.indexOf("/")+1)).substring(e.indexOf("/")),this.location="localhost"==location.host?e:location.pathname,document.title="Vida Emirates Hills Hotel | "+this.ucwords(this.$route.name)},ucwords:function(e){return e.toLowerCase().replace(/\b[a-z]/g,(function(e){return e.toUpperCase()}))}},watch:{$route:function(){window.scrollTo(0,0),this.getPath()}},props:["username"]};var ve=n(7253),he={insert:"head",singleton:!1};r()(ve.Z,he);ve.Z.locals;const be=d(pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column h-100 sidebar-wrapper"},[n("div",{staticClass:"sb-items-header"},[e._v("\n        Main Management\n    ")]),e._v(" "),n("router-link",{class:"sb-items"+("/dashboard"==e.location?" active":""),attrs:{to:{name:"dashboard"}}},[n("i",{staticClass:"fa fa-dashboard mr-1"}),e._v("\n        Dashboard\n    ")]),e._v(" "),n("router-link",{class:"sb-items"+("/schedules"==e.location?" active":""),attrs:{to:{name:"schedules"}}},[n("i",{staticClass:"fa fa-calendar mr-1"}),e._v("\n        Bookings & Reservations\n    ")]),e._v(" "),n("router-link",{class:"sb-items"+("/billings"==e.location?" active":""),attrs:{to:{name:"billings"}}},[n("i",{staticClass:"fa fa-money mr-1"}),e._v("\n        Billings\n    ")]),e._v(" "),n("router-link",{class:"sb-items"+("/inventory"==e.location?" active":""),attrs:{to:{name:"inventory"}}},[n("i",{staticClass:"fa fa-hotel mr-1"}),e._v("\n        Room Inventory\n    ")]),e._v(" "),n("div",{staticClass:"separator"}),e._v(" "),n("div",{staticClass:"sb-items-header"},[e._v("\n        Data Management\n    ")]),e._v(" "),n("router-link",{class:"sb-items"+("/amenities"==e.location?" active":""),attrs:{to:{name:"amenities"}}},[n("i",{staticClass:"fa fa-bullseye mr-1"}),e._v("\n        Amenities\n    ")]),e._v(" "),n("router-link",{class:"sb-items"+("/offers"==e.location?" active":""),attrs:{to:{name:"offers"}}},[n("i",{staticClass:"fa fa-handshake-o mr-1"}),e._v("\n        Promo Offers\n    ")]),e._v(" "),n("router-link",{class:"sb-items"+("/rooms"==e.location?" active":""),attrs:{to:{name:"rooms"}}},[n("i",{staticClass:"fa fa-building-o mr-1"}),e._v("\n        Rooms & Suites\n    ")]),e._v(" "),n("div",{staticClass:"separator"}),e._v(" "),n("div",{staticClass:"sb-items-header"},[e._v("\n        Accounts Management\n    ")]),e._v(" "),"superadmin"==e.username?n("router-link",{class:"sb-items"+("/employees"==e.location?" active":""),attrs:{to:{name:"employees"}}},[n("i",{staticClass:"fa fa-cogs mr-1"}),e._v("\n        Employees\n    ")]):e._e(),e._v(" "),n("router-link",{class:"sb-items"+("/guests"==e.location?" active":""),attrs:{to:{name:"guests"}}},[n("i",{staticClass:"fa fa-users mr-1"}),e._v("\n        Guests\n    ")])],1)}),[],!1,null,null,null).exports;function ge(e,t,n,a,s,i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(a,s)}var ye=new VueRouter({base:"/",mode:"history",routes:[{path:"/",name:"signin",component:le},{path:"/signup",name:"signup",component:_e},{path:"/dashboard",name:"dashboard",component:y},{path:"/schedules",name:"schedules",component:w},{path:"/billings",name:"billings",component:x},{path:"/inventory",name:"inventory",component:k},{path:"/amenities",name:"amenities",component:z},{path:"/offers",name:"offers",component:U},{path:"/rooms",name:"rooms",component:C},{path:"/employees",name:"employees",component:J},{path:"/guests",name:"guests",component:ne},{path:"/settings",name:"settings",component:Z},{path:"*",name:"pagenotfound",component:g}]});new Vue({el:"#app",components:{Topbar:p,Sidebar:be,Alert:m},data:function(){var e=this;return{sidebar_visible:!0,username:"N/A",user_fullname:"N/A",checkSession:null,checkSessionInterval:18e5,isLoggedIn:!1,alert:{show:!1,title:"Notice",message:"",confirm:!1,okText:"Ok",cancelText:"Cancel",okClicked:function(){e.alert.show=!1},cancelClicked:function(){e.alert.show=!1}}}},methods:{toggleSidebar:function(){this.sidebar_visible=!this.sidebar_visible},profileChanged:function(){this.getCurrentUser()},signedIn:function(){this.getCurrentUser(),this.startCheckSession(!0),this.isLoggedIn=!0},signedOut:function(){this.getCurrentUser(),this.startCheckSession(!1),this.isLoggedIn=!1},startCheckSession:function(e){var t=this;e?this.checkSession=setInterval((function(){t.getCurrentUser(),t.isLoggedIn||(alert("Your Session has expired, please Sign In again!"),t.$router.push("/"),clearInterval(t.checkSession))}),this.checkSessionInterval):clearInterval(this.checkSession)},fixDropdownUnshow:function(){var e=document.querySelector(".dropdown-menu.show");e&&e.classList.remove("show")},getCurrentUser:function(){var e,t=this;return(e=s().mark((function e(){var n,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=["signin"],e.next=3,axios.post("/api/accounts/current").then((function(e){return e.data})).catch((function(e){console.log(e)}));case 3:(a=e.sent).username?t.$moment(a.expires_at).diff(t.$moment(),"minutes",!0)>0?(i=a.current.admin,t.username=a.current.username,t.user_fullname=i.first_name+" "+(i.middle_name?i.middle_name[0]+". ":"")+i.last_name,t.isLoggedIn=!0,n.includes(t.$route.name)&&t.$router.push("/dashboard")):(axios.post("/api/accounts/signout").then((function(e){return e.data})).catch((function(e){console.log(e)})),n.includes(t.$route.name)||t.$router.push("/")):n.includes(t.$route.name)||t.$router.push("/");case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function o(e){ge(i,a,s,o,r,"next",e)}function r(e){ge(i,a,s,o,r,"throw",e)}o(void 0)}))})()}},mounted:function(){this.getCurrentUser(),this.isLoggedIn&&this.startCheckSession(!0),document.addEventListener("click",this.fixDropdownUnshow)},watch:{$route:function(){this.getCurrentUser()}},router:ye})},1288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".alert-header[data-v-f4633a3c]{color:#2f4f4f;display:block;font-size:24px;font-weight:700}.alert-message[data-v-f4633a3c]{color:#141414;display:block;font-size:16px}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/alert.vue"],names:[],mappings:"AAyEA,+BAIA,aAAA,CAHA,aAAA,CACA,cAAA,CACA,eAEA,CAEA,gCAGA,aAAA,CAFA,aAAA,CACA,cAEA",sourcesContent:['<template>\n    <b-modal :id="id" size="sm" :title="title" centered hide-header-close hide-header>\n        <b-container fluid>\n            <div class="text-center mt-2 alert-header w-100">\n                {{ title.toUpperCase() }}\n            </div>\n            <div class="text-center pt-4 pb-2 alert-message">\n                {{ message }}\n            </div>\n        </b-container>\n        <template #modal-footer>\n            <div class="d-flex justify-content-center w-100">\n                <b-button pill variant="success" size="sm" class="w-50 mx-2" @click="okClicked()">{{ okText.toUpperCase() }}</b-button>\n                <b-button pill variant="warning" size="sm" class="w-50 mx-2" v-if="confirm" @click="cancelClicked()">{{ cancelText.toUpperCase() }}</b-button>\n            </div>\n        </template>\n    </b-modal>\n</template>\n\n<script>\n    export default {\n        data(){\n            return {\n\n            }\n        },\n\n        props: {\n            visible: Boolean,\n            id: {\n                type: String,\n                required: false\n            },\n            title: {\n                type: String,\n                default: \'Notice\'\n            },\n            message: String,\n            confirm: Boolean,\n            okText: {\n                type: String,\n                default: \'Ok\'\n            },\n            cancelText: {\n                type: String,\n                default: \'Cancel\'\n            },\n            okClicked: {\n                type: Function,\n                required: false,\n                default: () => { return }\n            },\n            cancelClicked: {\n                type: Function,\n                required: false,\n                default: () => { return }\n            }\n        },\n\n        watch: {\n            visible: function(val) {\n                if(val) {\n                    this.$bvModal.show(this.id)\n                }\n                else {\n                    this.$bvModal.hide(this.id)\n                }\n            }\n        }\n    }\n<\/script>\n\n<style scoped>\n    .alert-header {\n        display: block;\n        font-size: 24px;\n        font-weight: bold;\n        color:darkslategray;\n    }\n\n    .alert-message {\n        display: block;\n        font-size: 16px;\n        color:rgb(20, 20, 20);\n    }\n</style>\n'],sourceRoot:""}]);const r=o},3431:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".cbox-label[data-v-7f28e675]{font-size:14px}.separator[data-v-7f28e675]{border-bottom:1px solid gray;height:1px}.separator-lightgray[data-v-7f28e675]{border-bottom:1px solid #d3d3d3}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/amenities.vue"],names:[],mappings:"AAiVA,6BACA,cACA,CAEA,4BACA,4BAAA,CACA,UACA,CAEA,sCACA,+BACA",sourcesContent:['<template>\n    <div class="d-flex justify-content-center p-5">\n        <div class="w-100" v-if="isAmenities">\n            <div class="align-self-center bg-white border shadow-sm rounded-sm p-5 w-100">\n                <h3 class="mb-4">Amenities</h3>\n                <div class="border py-3 rounded-sm">\n                    <div class="d-flex mb-3">\n                        <div class="justify-content-center col-auto">\n                            <b-button variant="success" class="rounded-circle" title="New Amenities" @click="open_amenities_modal(true)" v-b-tooltip.hover.noninteractive>\n                                <i class="fa fa-plus"></i>\n                            </b-button>\n                            <b-button variant="primary" class="rounded-circle" title="Refresh" v-b-tooltip.hover.noninteractive @click="getAllAmenities">\n                                <i :class="\'fa fa-refresh\' + (table.isBusy ? \' fa-spin\' : \'\')"></i>\n                            </b-button>\n                            <b-button variant="secondary" class="rounded-circle" title="Refresh" v-b-tooltip.hover.noninteractive @click="isAmenities = false">\n                                <i class="fa fa-cog"></i>\n                            </b-button>\n                        </div>\n                        <div class="col">\n                            <b-input v-model="table.filter" class="form-control rounded-pill" placeholder="Search Amenities"></b-input>\n                        </div>\n                    </div>\n                    <div class="d-flex flex-column">\n                        <b-table class="border-bottom vw-75" :busy="table.isBusy" :fields="table.fields" :filter="table.filter" :filter-included-fields="table.filter_on" :current-page="table.current_page" :items="table.items" striped responsive show-empty>\n                            <template #table-busy>\n                                <div class="text-center text-danger my-2">\n                                    <i class="fa fa-spinner fa-10x align-middle"></i>\n                                    <strong>Loading...</strong>\n                                </div>\n                            </template>\n                            <template #cell(full_name)="row">\n                                {{ row.item.amenities_name }}\n                            </template>\n                            <template #cell(email_address)="row">\n                                {{ row.item.category.category_name }}\n                            </template>\n                            <template #cell(position)="row">\n                                {{ row.item.description }}\n                            </template>\n                            <template #cell(actions)="row">\n                                <div class="d-flex justify-content-center">\n                                    <b-button variant="success" class="rounded-lg mx-1" size="sm" title="Update Record" @click="open_amenities_modal(false, row.item)" v-b-tooltip.hover.noninteractive>\n                                        <i class="fa fa-edit"></i>\n                                    </b-button>\n                                    <b-button variant="primary" class="rounded-lg mx-1" size="sm" title="Delete Record" @click="delete_amenities(row.item.account_id)" v-b-tooltip.hover.noninteractive>\n                                        <i class="fa fa-trash"></i>\n                                    </b-button>\n                                </div>\n                            </template>\n                        </b-table>\n                        <b-pagination class="mx-auto my-0" v-model="table .current_page" :total-rows="table.items.length" :per-page="table.per_page"></b-pagination>\n                    </div>\n                </div>\n            </div>\n            <b-modal id="amenities_modal" :title="(modal_new ? \'New\' : \'Update\') + \' Amenities Record\'" centered scrollable no-close-on-backdrop>\n                <b-overlay :show="modalIsBusy" opacity="0.3">\n                    <b-container fluid>\n                        <div class="d-flex justify-content-center mb-4">\n                            <i class="fa fa-bullseye my-3" style="font-size: 120px;"></i>\n                        </div>\n                        <b-form class="my-3" @keydown.enter="save_amenities()">\n                            <h6 class="text-success font-weight-bold text-black-70 text-black-70">Amenities Information</h6>\n                            <div class="font-weight-lighter ml-2 mb-3 text-danger w-100" style="font-size: 9px;">* Required Field</div>\n                            <b-form-group label="Amenities Name *">\n                                <b-form-input class="form-control rounded-pill" v-model="amenities_info.amenities_name" @keyup="is_valid(\'amenities_name\')"></b-form-input>\n                                <span class="text-danger i-label" v-if="valid.amenities_name">{{ valid.amenities_name }}</span>\n                            </b-form-group>\n                            <b-form-group label="Amenities Category *">\n                                <b-form-select class="form-control rounded-pill" v-model="amenities_info.category_name" :options="category_name_options" @change="is_valid(\'category_name\')"></b-form-select>\n                                <span class="text-danger i-label" v-if="valid.category_name">{{ valid.category_name }}</span>\n                            </b-form-group>\n                            <b-form-group label="Amenities Category *">\n                                <div class="border p-2 text-area-wrapper">\n                                    <b-form-textarea class="border-0" v-model="amenities_info.description" rows="3" @keyup="is_valid(\'description\')"></b-form-textarea>\n                                </div>\n                                <span class="text-danger i-label" v-if="valid.description">{{ valid.description }}</span>\n                            </b-form-group>\n                        </b-form>\n                    </b-container>\n                </b-overlay>\n                <template #modal-footer>\n                    <div class="d-flex justify-content-center w-100">\n                        <b-button class="m-2 w-50" size="sm" variant="danger" @click="$bvModal.hide(\'amenities_modal\')" :disabled="modalIsBusy" block pill>Cancel</b-button>\n                        <b-button class="m-2 w-50" size="sm" variant="primary" @click="save_amenities()" :disabled="modalIsBusy" block pill>Done</b-button>\n                    </div>\n                </template>\n            </b-modal>\n            <alert id="amenities_alert" :visible="alert.show" :title="alert.title" :confirm="alert.confirm" :message="alert.message" :okText="alert.okText" :cancelText="alert.cancelText" :okClicked="alert.okClicked" :cancelClicked="alert.cancelClicked"></alert>\n        </div>\n        <amenities-categories class="w-100" @backtoamenities="isAmenities = true" v-else></amenities-categories>\n    </div>\n</template>\n\n<script>\nimport Alert from \'./alert.vue\'\nimport AmenitiesCategories from \'./amenitiescategories.vue\'\n\nexport default {\n    components: {\n        Alert,\n        AmenitiesCategories\n    },\n\n    data() {\n        return {\n            isAmenities: true,\n            all_accounts: \'\',\n            table: {\n                current_page: 1,\n                filter: \'\',\n                filter_on: [\'amenities_name\', \'category_name\', \'description\'],\n                fields: [\n                    {\n                        key: \'amenities_name\',\n                        label: \'Amenities Name\',\n                        sortable: true\n                    },\n                    {\n                        key: \'category_name\',\n                        label: \'Category Name\',\n                        sortable: true\n                    },\n                    {\n                        key: \'description\',\n                        label: \'Description\',\n                        sortable: true\n                    },\n                    {\n                        key: \'actions\',\n                        label: \'Actions\',\n                        sortable: false,\n                    }\n                ],\n                items: [],\n                per_page: 6\n            },\n            modal_new: true,\n            amenities_info: {\n                amenities_name: \'\',\n                category_name: \'\',\n                description: \'\'\n            },\n            category_name_options: [\'Select Amenities Category\'],\n            valid: {\n                amenities_name: \'\',\n                category_name: \'\',\n                description: \'\'\n            },\n            isBusy: false,\n            modalIsBusy: false,\n            alert: {\n                show: false,\n                title: \'Notice\',\n                message: \'\',\n                confirm: false,\n                okText: \'Ok\',\n                cancelText: \'Cancel\',\n                okClicked: () => {this.$bvModal.hide(\'signin_alert\')},\n                cancelClicked: () => {this.$bvModal.hide(\'signin_alert\')},\n            }\n        }\n    },\n\n    methods: {\n        async getAllAmenities() {\n            this.table.isBusy = true\n\n            this.all_accounts = await axios.post(\'/api/accounts/allAccounts\', {\n                    user_role: \'amenities\'\n                })\n                .then(function (resp){\n                    return resp.data\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n\n            this.table.items = []\n\n            this.all_accounts.forEach((item) => {\n                var account = item.admin\n\n                account[\'account_id\'] = item.account_id\n                account[\'username\'] = item.username\n\n                this.table.items.push(account)\n            })\n\n            this.table.isBusy = false\n        },\n\n        is_valid(field) {\n            var regex_name = /^.{3,}$/\n            var regex_description = /^.{10,}$/\n\n            switch (field) {\n                case \'amenities_name\':\n                    var valid_aname = regex_name.test(this.amenities_info.amenities_name)\n                    this.valid.amenities_name = !valid_aname ? \'Name too short (At least 3 characters)\' : \'\'\n                    break\n\n                case \'category_name\':\n                    this.valid.category_name = this.amenities_info.category_name == \'Select Amenities Category\' ? \'Field is required\' : \'\'\n                    break\n\n                case \'description\':\n                    var valid_cname = regex_description.test(this.amenities_info.description)\n                    this.valid.description = !valid_cname ? \'Description too short (At least 10 characters)\' : \'\'\n                    break\n\n                default:\n                    break\n            }\n        },\n\n        open_amenities_modal(is_new, amenities = null) {\n            if(is_new) {\n                this.modal_new = true\n\n                this.amenities_info.amenities_name = \'\'\n                this.amenities_info.category_name = \'Select Amenities Category\'\n                this.amenities_info.description = \'\'\n\n                this.valid.amenities_name = \'\'\n                this.valid.category_name = \'\'\n                this.valid.description = \'\'\n\n                this.$bvModal.show(\'amenities_modal\')\n            }\n            else {\n                this.modal_new = false\n\n                this.amenities_info.amenities_name = amenities.amenities_name\n                this.amenities_info.category_name = amenities.category.category_name\n                this.amenities_info.description = amenities.description\n\n                this.$bvModal.show(\'amenities_modal\')\n            }\n        },\n\n        async save_amenities() {\n            var all_valid = !(this.valid.amenities_name != \'\' || this.amenities_info.amenities_name == \'\') &&\n                            !(this.valid.category_name != \'\' || this.amenities_info.category_name == \'Select Amenities Category\') &&\n                            !(this.valid.description != \'\' || this.amenities_info.description == \'\')\n\n            if(!all_valid) {\n                this.alert.confirm = false\n                this.alert.message = \'Please fill all the required fields!\'\n\n                this.alert.okClicked = () => {\n                    this.$bvModal.hide(\'amenities_alert\')\n                }\n\n                this.$bvModal.show(\'amenities_alert\')\n                return\n            }\n\n            this.modalIsBusy = true\n\n            var _amenities_response = await axios.post(\'/api/accounts/\' + (this.modal_new ? \'create\' : \'updateProfile\'),\n                    this.amenities_info\n                )\n                .then((resp) => {\n                    this.modalIsBusy = false\n\n                    this.alert.confirm = false\n                    this.alert.message = resp.data.message\n\n                    this.alert.okClicked = () => {\n                        this.$bvModal.hide(\'amenities_modal\')\n                        this.$bvModal.hide(\'amenities_alert\')\n\n                        this.amenities_info.first_name = \'\'\n                        this.amenities_info.last_name = \'\'\n                        this.amenities_info.middle_name = \'\'\n                        this.amenities_info.email_address = \'\'\n                        this.amenities_info.mobile_number = \'\'\n                        this.amenities_info.position = \'Select Position\'\n                        this.amenities_info.username = \'\'\n                        this.amenities_info.password = \'\'\n                        this.amenities_info.password_confirmation = \'\'\n\n                        this.getAllAmenities()\n                    }\n\n                    this.$bvModal.show(\'amenities_alert\')\n\n                    return resp.data.message\n                })\n                .then((err) => {\n                    console.log(err)\n                })\n        },\n\n        delete_amenities(account_id) {\n            this.alert.confirm = true\n            this.alert.message = \'Delete Amenities record?\'\n\n            this.alert.okClicked = async () => {\n                var delete_amenities_response = await axios.post(\'/api/accounts/delete\', {\n                        account_id: account_id\n                    })\n                    .then((resp) => {\n                        this.modalIsBusy = false\n\n                        this.alert.confirm = false\n                        this.alert.message = resp.data.message\n\n                        this.alert.okClicked = () => {\n                            this.$bvModal.hide(\'amenities_alert\')\n                            this.getAllAmenities()\n                        }\n\n                        this.$bvModal.show(\'amenities_alert\')\n\n                        return resp.data.message\n                    })\n                    .then((err) => {\n                        console.log(err)\n                    })\n            }\n\n            this.alert.cancelClicked = () => {\n                this.$bvModal.hide(\'amenities_alert\')\n            }\n\n            this.$bvModal.show(\'amenities_alert\')\n        }\n    },\n\n    mounted() {\n        this.getAllAmenities()\n    }\n}\n<\/script>\n\n<style scoped>\n    .cbox-label {\n        font-size: 14px;\n    }\n\n    .separator {\n        border-bottom: solid 1px gray;\n        height: 1px;\n    }\n\n    .separator-lightgray {\n        border-bottom: solid 1px lightgray;\n    }\n</style>\n'],sourceRoot:""}]);const r=o},2642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".cbox-label[data-v-be5ddd9e]{font-size:14px}.separator[data-v-be5ddd9e]{border-bottom:1px solid gray;height:1px}.separator-lightgray[data-v-be5ddd9e]{border-bottom:1px solid #d3d3d3}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/amenitiescategories.vue"],names:[],mappings:"AAqUA,6BACA,cACA,CAEA,4BACA,4BAAA,CACA,UACA,CAEA,sCACA,+BACA",sourcesContent:['<template>\n    <div>\n        <div class="align-self-center bg-white border shadow-sm rounded-sm p-5 w-100">\n            <div class="d-flex mb-4">\n                <div class="mr-3 no-arrow" style="margin-top: 6px;" title="Go back to Amenities" @click="$emit(\'backtoamenities\')" v-b-tooltip.hover.noninteractive>\n                    <i class="fa fa-arrow-left"></i>\n                </div>\n                <h3>Amenities Category</h3>\n            </div>\n            <div class="border py-3 rounded-sm">\n                <div class="d-flex mb-3">\n                    <div class="justify-content-center col-auto">\n                        <b-button variant="success" class="rounded-circle" title="New Amenities Category" @click="open_amenities_category_modal(true)" v-b-tooltip.hover.noninteractive>\n                            <i class="fa fa-plus"></i>\n                        </b-button>\n                        <b-button variant="primary" class="rounded-circle" title="Refresh" v-b-tooltip.hover.noninteractive @click="getAllAmenitiesCategory">\n                            <i :class="\'fa fa-refresh\' + (table.isBusy ? \' fa-spin\' : \'\')"></i>\n                        </b-button>\n                    </div>\n                    <div class="col">\n                        <b-input v-model="table.filter" class="form-control rounded-pill" placeholder="Search Amenities Category"></b-input>\n                    </div>\n                </div>\n                <div class="d-flex flex-column">\n                    <b-table class="border-bottom vw-75" :busy="table.isBusy" :fields="table.fields" :filter="table.filter" :filter-included-fields="table.filter_on" :current-page="table.current_page" :items="table.items" striped responsive show-empty>\n                        <template #table-busy>\n                            <div class="text-center text-danger my-2">\n                                <i class="fa fa-spinner fa-10x align-middle"></i>\n                                <strong>Loading...</strong>\n                            </div>\n                        </template>\n                        <template #cell(full_name)="row">\n                            {{ row.item.amenities_category_name }}\n                        </template>\n                        <template #cell(position)="row">\n                            {{ row.item.description }}\n                        </template>\n                        <template #cell(actions)="row">\n                            <div class="d-flex justify-content-center">\n                                <b-button variant="success" class="rounded-lg mx-1" size="sm" title="Update Record" @click="open_amenities_category_modal(false, row.item)" v-b-tooltip.hover.noninteractive>\n                                    <i class="fa fa-edit"></i>\n                                </b-button>\n                                <b-button variant="primary" class="rounded-lg mx-1" size="sm" title="Delete Record" @click="delete_amenities_category(row.item.account_id)" v-b-tooltip.hover.noninteractive>\n                                    <i class="fa fa-trash"></i>\n                                </b-button>\n                            </div>\n                        </template>\n                    </b-table>\n                    <b-pagination class="mx-auto my-0" v-model="table .current_page" :total-rows="table.items.length" :per-page="table.per_page"></b-pagination>\n                </div>\n            </div>\n        </div>\n        <b-modal id="amenities_category_modal" :title="(modal_new ? \'New\' : \'Update\') + \' Amenities Category Record\'" centered scrollable no-close-on-backdrop>\n            <b-overlay :show="modalIsBusy" opacity="0.3">\n                <b-container fluid>\n                    <div class="d-flex justify-content-center mb-4">\n                        <i class="fa fa-bullseye my-3" style="font-size: 120px;"></i>\n                    </div>\n                    <b-form class="my-3" @keydown.enter="save_amenities_category()">\n                        <h6 class="text-success font-weight-bold text-black-70 text-black-70">Amenities Category Information</h6>\n                        <div class="font-weight-lighter ml-2 mb-3 text-danger w-100" style="font-size: 9px;">* Required Field</div>\n                        <b-form-group label="Amenities Category Name *">\n                            <b-form-input class="form-control rounded-pill" v-model="amenities_category_info.amenities_category_name" @keyup="is_valid(\'amenities_category_name\')"></b-form-input>\n                            <span class="text-danger i-label" v-if="valid.amenities_category_name">{{ valid.amenities_category_name }}</span>\n                        </b-form-group>\n                        <b-form-group label="Amenities Category Category *">\n                            <b-form-select class="form-control rounded-pill" v-model="amenities_category_info.category_name" :options="category_name_options" @change="is_valid(\'category_name\')"></b-form-select>\n                            <span class="text-danger i-label" v-if="valid.category_name">{{ valid.category_name }}</span>\n                        </b-form-group>\n                        <b-form-group label="Amenities Category Category *">\n                            <div class="border p-2 text-area-wrapper">\n                                <b-form-textarea class="border-0" v-model="amenities_category_info.description" rows="3" @keyup="is_valid(\'description\')"></b-form-textarea>\n                            </div>\n                            <span class="text-danger i-label" v-if="valid.description">{{ valid.description }}</span>\n                        </b-form-group>\n                    </b-form>\n                </b-container>\n            </b-overlay>\n            <template #modal-footer>\n                <div class="d-flex justify-content-center w-100">\n                    <b-button class="m-2 w-50" size="sm" variant="danger" @click="$bvModal.hide(\'amenities_category_modal\')" :disabled="modalIsBusy" block pill>Cancel</b-button>\n                    <b-button class="m-2 w-50" size="sm" variant="primary" @click="save_amenities_category()" :disabled="modalIsBusy" block pill>Done</b-button>\n                </div>\n            </template>\n        </b-modal>\n        <alert id="amenities_category_alert" :visible="alert.show" :title="alert.title" :confirm="alert.confirm" :message="alert.message" :okText="alert.okText" :cancelText="alert.cancelText" :okClicked="alert.okClicked" :cancelClicked="alert.cancelClicked"></alert>\n    </div>\n</template>\n\n<script>\nimport Alert from \'./alert.vue\'\n\nexport default {\n    components: {\n        Alert\n    },\n\n    data() {\n        return {\n            all_accounts: \'\',\n            table: {\n                current_page: 1,\n                filter: \'\',\n                filter_on: [\'amenities_category_name\', \'category_name\', \'description\'],\n                fields: [\n                    {\n                        key: \'amenities_category_name\',\n                        label: \'Amenities Category Name\',\n                        sortable: true\n                    },\n                    {\n                        key: \'description\',\n                        label: \'Description\',\n                        sortable: true\n                    },\n                    {\n                        key: \'actions\',\n                        label: \'Actions\',\n                        sortable: false,\n                    }\n                ],\n                items: [],\n                per_page: 6\n            },\n            modal_new: true,\n            amenities_category_info: {\n                amenities_category_name: \'\',\n                category_name: \'\',\n                description: \'\'\n            },\n            category_name_options: [\'Select Amenities Category Category\'],\n            valid: {\n                amenities_category_name: \'\',\n                category_name: \'\',\n                description: \'\'\n            },\n            isBusy: false,\n            modalIsBusy: false,\n            alert: {\n                show: false,\n                title: \'Notice\',\n                message: \'\',\n                confirm: false,\n                okText: \'Ok\',\n                cancelText: \'Cancel\',\n                okClicked: () => {this.$bvModal.hide(\'signin_alert\')},\n                cancelClicked: () => {this.$bvModal.hide(\'signin_alert\')},\n            }\n        }\n    },\n\n    methods: {\n        async getAllAmenitiesCategory() {\n            this.table.isBusy = true\n\n            this.all_accounts = await axios.post(\'/api/accounts/allAccounts\', {\n                    user_role: \'amenities_category\'\n                })\n                .then(function (resp){\n                    return resp.data\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n\n            this.table.items = []\n\n            this.all_accounts.forEach((item) => {\n                var account = item.admin\n\n                account[\'account_id\'] = item.account_id\n                account[\'username\'] = item.username\n\n                this.table.items.push(account)\n            })\n\n            this.table.isBusy = false\n        },\n\n        is_valid(field) {\n            var regex_name = /^.{3,}$/\n            var regex_description = /^.{10,}$/\n\n            switch (field) {\n                case \'amenities_category_name\':\n                    var valid_aname = regex_name.test(this.amenities_category_info.amenities_category_name)\n                    this.valid.amenities_category_name = !valid_aname ? \'Name too short (At least 3 characters)\' : \'\'\n                    break\n\n                case \'category_name\':\n                    this.valid.category_name = this.amenities_category_info.category_name == \'Select Amenities Category Category\' ? \'Field is required\' : \'\'\n                    break\n\n                case \'description\':\n                    var valid_cname = regex_description.test(this.amenities_category_info.description)\n                    this.valid.description = !valid_cname ? \'Description too short (At least 10 characters)\' : \'\'\n                    break\n\n                default:\n                    break\n            }\n        },\n\n        open_amenities_category_modal(is_new, amenities_category = null) {\n            if(is_new) {\n                this.modal_new = true\n\n                this.amenities_category_info.amenities_category_name = \'\'\n                this.amenities_category_info.category_name = \'Select Amenities Category Category\'\n                this.amenities_category_info.description = \'\'\n\n                this.valid.amenities_category_name = \'\'\n                this.valid.category_name = \'\'\n                this.valid.description = \'\'\n\n                this.$bvModal.show(\'amenities_category_modal\')\n            }\n            else {\n                this.modal_new = false\n\n                this.amenities_category_info.amenities_category_name = amenities_category.amenities_category_name\n                this.amenities_category_info.category_name = amenities_category.category.category_name\n                this.amenities_category_info.description = amenities_category.description\n\n                this.$bvModal.show(\'amenities_category_modal\')\n            }\n        },\n\n        async save_amenities_category() {\n            var all_valid = !(this.valid.amenities_category_name != \'\' || this.amenities_category_info.amenities_category_name == \'\') &&\n                            !(this.valid.category_name != \'\' || this.amenities_category_info.category_name == \'Select Amenities Category Category\') &&\n                            !(this.valid.description != \'\' || this.amenities_category_info.description == \'\')\n\n            if(!all_valid) {\n                this.alert.confirm = false\n                this.alert.message = \'Please fill all the required fields!\'\n\n                this.alert.okClicked = () => {\n                    this.$bvModal.hide(\'amenities_category_alert\')\n                }\n\n                this.$bvModal.show(\'amenities_category_alert\')\n                return\n            }\n\n            this.modalIsBusy = true\n\n            var _amenities_category_response = await axios.post(\'/api/accounts/\' + (this.modal_new ? \'create\' : \'updateProfile\'),\n                    this.amenities_category_info\n                )\n                .then((resp) => {\n                    this.modalIsBusy = false\n\n                    this.alert.confirm = false\n                    this.alert.message = resp.data.message\n\n                    this.alert.okClicked = () => {\n                        this.$bvModal.hide(\'amenities_category_modal\')\n                        this.$bvModal.hide(\'amenities_category_alert\')\n\n                        this.amenities_category_info.first_name = \'\'\n                        this.amenities_category_info.last_name = \'\'\n                        this.amenities_category_info.middle_name = \'\'\n                        this.amenities_category_info.email_address = \'\'\n                        this.amenities_category_info.mobile_number = \'\'\n                        this.amenities_category_info.position = \'Select Position\'\n                        this.amenities_category_info.username = \'\'\n                        this.amenities_category_info.password = \'\'\n                        this.amenities_category_info.password_confirmation = \'\'\n\n                        this.getAllAmenitiesCategory()\n                    }\n\n                    this.$bvModal.show(\'amenities_category_alert\')\n\n                    return resp.data.message\n                })\n                .then((err) => {\n                    console.log(err)\n                })\n        },\n\n        delete_amenities_category(account_id) {\n            this.alert.confirm = true\n            this.alert.message = \'Delete Amenities Category record?\'\n\n            this.alert.okClicked = async () => {\n                var delete_amenities_category_response = await axios.post(\'/api/accounts/delete\', {\n                        account_id: account_id\n                    })\n                    .then((resp) => {\n                        this.modalIsBusy = false\n\n                        this.alert.confirm = false\n                        this.alert.message = resp.data.message\n\n                        this.alert.okClicked = () => {\n                            this.$bvModal.hide(\'amenities_category_alert\')\n                            this.getAllAmenitiesCategory()\n                        }\n\n                        this.$bvModal.show(\'amenities_category_alert\')\n\n                        return resp.data.message\n                    })\n                    .then((err) => {\n                        console.log(err)\n                    })\n            }\n\n            this.alert.cancelClicked = () => {\n                this.$bvModal.hide(\'amenities_category_alert\')\n            }\n\n            this.$bvModal.show(\'amenities_category_alert\')\n        }\n    },\n\n    mounted() {\n        this.getAllAmenitiesCategory()\n    }\n}\n<\/script>\n\n<style scoped>\n    .cbox-label {\n        font-size: 14px;\n    }\n\n    .separator {\n        border-bottom: solid 1px gray;\n        height: 1px;\n    }\n\n    .separator-lightgray {\n        border-bottom: solid 1px lightgray;\n    }\n</style>\n'],sourceRoot:""}]);const r=o},4394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".cbox-label[data-v-21ce211a]{font-size:14px}.separator[data-v-21ce211a]{border-bottom:1px solid gray;height:1px}.separator-lightgray[data-v-21ce211a]{border-bottom:1px solid #d3d3d3}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/employees.vue"],names:[],mappings:"AAsfA,6BACA,cACA,CAEA,4BACA,4BAAA,CACA,UACA,CAEA,sCACA,+BACA",sourcesContent:["<template>\n    <div class=\"d-flex justify-content-center p-5\">\n        <div class=\"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100\">\n            <h3 class=\"mb-4\">Employees</h3>\n            <div class=\"border py-3 rounded-sm\">\n                <div class=\"d-flex mb-3\">\n                    <div class=\"justify-content-center col-auto\">\n                        <b-button variant=\"success\" class=\"rounded-circle\" title=\"New Employee\" @click=\"open_employee_modal(true)\" v-b-tooltip.hover.noninteractive>\n                            <i class=\"fa fa-plus\"></i>\n                        </b-button>\n                        <b-button variant=\"primary\" class=\"rounded-circle\" title=\"Refresh\" v-b-tooltip.hover.noninteractive @click=\"getAllEmployees\">\n                            <i :class=\"'fa fa-refresh' + (table.isBusy ? ' fa-spin' : '')\"></i>\n                        </b-button>\n                    </div>\n                    <div class=\"col\">\n                        <b-input v-model=\"table.filter\" class=\"form-control rounded-pill\" placeholder=\"Search Employee\"></b-input>\n                    </div>\n                </div>\n                <div class=\"d-flex flex-column\">\n                    <b-table class=\"border-bottom vw-75\" :busy=\"table.isBusy\" :fields=\"table.fields\" :filter=\"table.filter\" :filter-included-fields=\"table.filter_on\" :current-page=\"table.current_page\" :items=\"table.items\" striped responsive show-empty>\n                        <template #table-busy>\n                            <div class=\"text-center text-danger my-2\">\n                                <i class=\"fa fa-spinner fa-10x align-middle\"></i>\n                                <strong>Loading...</strong>\n                            </div>\n                        </template>\n                        <template #cell(full_name)=\"row\">\n                            {{ row.item.first_name + ' ' + (row.item.middle_name ? row.item.middle_name[0] + '. ' : '') + row.item.last_name }}\n                        </template>\n                        <template #cell(email_address)=\"row\">\n                            {{ row.item.email_address + (row.item.email_address_verified ? ' (Verified)' : ' (Not Verified)') }}\n                        </template>\n                        <template #cell(position)=\"row\">\n                            {{ row.item.position }}\n                        </template>\n                        <template #cell(actions)=\"row\">\n                            <div class=\"d-flex justify-content-center\">\n                                <b-button variant=\"success\" class=\"rounded-lg mx-1\" size=\"sm\" title=\"Update Record\" @click=\"open_employee_modal(false, row.item)\" v-b-tooltip.hover.noninteractive>\n                                    <i class=\"fa fa-edit\"></i>\n                                </b-button>\n                                <b-button variant=\"primary\" class=\"rounded-lg mx-1\" size=\"sm\" title=\"Delete Record\" @click=\"delete_employee(row.item.account_id)\" v-b-tooltip.hover.noninteractive>\n                                    <i class=\"fa fa-trash\"></i>\n                                </b-button>\n                            </div>\n                        </template>\n                    </b-table>\n                    <b-pagination class=\"mx-auto my-0\" v-model=\"table .current_page\" :total-rows=\"table.items.length\" :per-page=\"table.per_page\"></b-pagination>\n                </div>\n            </div>\n        </div>\n        <b-modal id=\"employee_modal\" :title=\"(modal_new ? 'New' : 'Update') + ' Employee Record'\" centered scrollable no-close-on-backdrop>\n            <b-overlay :show=\"modalIsBusy\" opacity=\"0.3\">\n                <b-container fluid>\n                    <div class=\"d-flex justify-content-center mb-4\">\n                        <i class=\"fa fa-user-circle my-3\" style=\"font-size: 120px;\"></i>\n                    </div>\n                    <b-form class=\"my-3\" @keydown.enter=\"save_employee()\">\n                        <h6 class=\"text-success font-weight-bold text-black-70 text-black-70\">Basic Information</h6>\n                        <div class=\"font-weight-lighter ml-2 mb-3 text-danger w-100\" style=\"font-size: 9px;\">* Required Field</div>\n                        <b-form-group label=\"First Name *\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.first_name\" @keyup=\"is_valid('first_name')\"></b-form-input>\n                            <span class=\"text-danger i-label\" v-if=\"valid.first_name\">{{ valid.first_name }}</span>\n                        </b-form-group>\n                        <b-form-group label=\"Middle Name\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.middle_name\"></b-form-input>\n                        </b-form-group>\n                        <b-form-row>\n                            <b-form-group class=\"col\" label=\"Gender *\">\n                                <b-form-select class=\"form-control rounded-pill\" v-model=\"account_info.gender\" :options=\"gender_options\" @change=\"is_valid('gender')\"></b-form-select>\n                                <span class=\"text-danger i-label\" v-if=\"valid.gender\">{{ valid.gender }}</span>\n                            </b-form-group>\n                            <b-form-group class=\"col\" label=\"Birth Date *\">\n                                <b-form-input type=\"date\" class=\"form-control rounded-pill\" v-model=\"account_info.birth_date\" @change=\"is_valid('birth_date')\"></b-form-input>\n                                <span class=\"text-danger i-label\" v-if=\"valid.birth_date\">{{ valid.birth_date }}</span>\n                            </b-form-group>\n                        </b-form-row>\n                        <b-form-group label=\"Last Name *\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.last_name\" @keyup=\"is_valid('last_name')\"></b-form-input>\n                            <span class=\"text-danger i-label\" v-if=\"valid.last_name\">{{ valid.last_name }}</span>\n                        </b-form-group>\n                        <b-form-group label=\"Email Address *\">\n                            <b-form-input type=\"email\" class=\"form-control rounded-pill\" v-model=\"account_info.email_address\" @keyup=\"check_email\"></b-form-input>\n                            <span class=\"text-danger i-label\" v-if=\"valid.email_address\">{{ valid.email_address }}</span>\n                        </b-form-group>\n                        <b-form-group label=\"Mobile Number\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.mobile_number\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Position *\" class=\"mb-5\">\n                            <b-form-select class=\"form-control rounded-pill\" v-model=\"account_info.position\" :options=\"position_options\" @change=\"is_valid('position')\"></b-form-select>\n                            <span class=\"text-danger i-label\" v-if=\"valid.position\">{{ valid.position }}</span>\n                        </b-form-group>\n                        <h6 class=\"text-success font-weight-bold text-black-70\">Login Credentials</h6>\n                        <div class=\"font-weight-lighter ml-2 mb-3 text-danger w-100\" style=\"font-size: 9px;\">* Required Field</div>\n                        <b-form-group label=\"Username *\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.username\" @keyup=\"check_username\"></b-form-input>\n                            <span class=\"text-danger i-label\" v-if=\"valid.username\">{{ valid.username }}</span>\n                        </b-form-group>\n                        <b-form-group class=\"mb-3\">\n                            <div v-if=\"!same_password || modal_new\">\n                                <b-form-group label=\"Password *\">\n                                    <b-form-input type=\"password\" class=\"form-control rounded-pill\" v-model=\"account_info.password\" @keyup=\"is_valid('password')\"></b-form-input>\n                                    <div class=\"text-danger i-label\">\n                                        <div v-if=\"valid.password_length || valid.password_cap || valid.password_num\">Password should contain atleast</div>\n                                        <div class=\"ml-2\" v-if=\"valid.password_length\">9 characters</div>\n                                        <div class=\"ml-2\" v-if=\"valid.password_cap\">1 capital letter</div>\n                                        <div class=\"ml-2\" v-if=\"valid.password_num\">1 number</div>\n                                    </div>\n                                </b-form-group>\n                                <b-form-group label=\"Confirm Password *\">\n                                    <b-form-input type=\"password\" class=\"form-control rounded-pill\" v-model=\"account_info.password_confirmation\" @keyup=\"is_valid('password_confirmation')\"></b-form-input>\n                                    <span class=\"text-danger i-label\" v-if=\"valid.password_confirmation\">{{ valid.password_confirmation }}</span>\n                                </b-form-group>\n                            </div>\n                            <b-form-checkbox v-model=\"same_password\" v-if=\"!modal_new\">\n                                <span class=\"cbox-label\">\n                                    Same password as before?\n                                </span>\n                            </b-form-checkbox>\n                        </b-form-group>\n                    </b-form>\n                </b-container>\n            </b-overlay>\n            <template #modal-footer>\n                <div class=\"d-flex justify-content-center w-100\">\n                    <b-button class=\"m-2 w-50\" size=\"sm\" variant=\"danger\" @click=\"$bvModal.hide('employee_modal')\" :disabled=\"modalIsBusy\" block pill>Cancel</b-button>\n                    <b-button class=\"m-2 w-50\" size=\"sm\" variant=\"primary\" @click=\"save_employee()\" :disabled=\"modalIsBusy\" block pill>Done</b-button>\n                </div>\n            </template>\n        </b-modal>\n        <alert id=\"employees_alert\" :visible=\"alert.show\" :title=\"alert.title\" :confirm=\"alert.confirm\" :message=\"alert.message\" :okText=\"alert.okText\" :cancelText=\"alert.cancelText\" :okClicked=\"alert.okClicked\" :cancelClicked=\"alert.cancelClicked\"></alert>\n    </div>\n</template>\n\n<script>\nimport Alert from './alert.vue'\n\nexport default {\n    components: {\n        Alert\n    },\n\n    data() {\n        return {\n            all_accounts: '',\n            table: {\n                current_page: 1,\n                filter: '',\n                filter_on: ['username', 'full_name', 'email_address', 'position'],\n                fields: [\n                    {\n                        key: 'full_name',\n                        label: 'Full Name',\n                        sortable: true\n                    },\n                    {\n                        key: 'email_address',\n                        label: 'Email Address',\n                        sortable: true\n                    },\n                    {\n                        key: 'position',\n                        label: 'Position',\n                        sortable: true\n                    },\n                    {\n                        key: 'actions',\n                        label: 'Actions',\n                        sortable: false,\n                    }\n                ],\n                items: [],\n                per_page: 6\n            },\n            modal_new: true,\n            account_info: {\n                sel_username: '',\n                first_name: '',\n                last_name: '',\n                middle_name: '',\n                gender: 'Select Gender',\n                birth_date: '',\n                email_address: '',\n                mobile_number: '',\n                position: 'Select Position',\n                user_role: 'employee',\n                username: '',\n                password: '',\n                password_confirmation: ''\n            },\n            same_password: true,\n            gender_options: ['Select Gender', 'Male', 'Female'],\n            position_options: ['Select Position', 'Receptionist', 'Housekeeper', 'Administrator'],\n            valid: {\n                account_id: -1,\n                first_name: '',\n                last_name: '',\n                gender: '',\n                birth_date: '',\n                email_address: '',\n                position: '',\n                username: '',\n                password_length: '',\n                password_cap: '',\n                password_num: '',\n                password_confirmation: ''\n            },\n            isBusy: false,\n            modalIsBusy: false,\n            alert: {\n                show: false,\n                title: 'Notice',\n                message: '',\n                confirm: false,\n                okText: 'Ok',\n                cancelText: 'Cancel',\n                okClicked: () => {this.$bvModal.hide('signin_alert')},\n                cancelClicked: () => {this.$bvModal.hide('signin_alert')},\n            }\n        }\n    },\n\n    methods: {\n        async getAllEmployees() {\n            this.table.isBusy = true\n\n            this.all_accounts = await axios.post('/api/accounts/allAccounts', {\n                    user_role: 'employee'\n                })\n                .then(function (resp){\n                    return resp.data\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n\n            this.table.items = []\n\n            this.all_accounts.forEach((item) => {\n                var account = item.admin\n\n                account['account_id'] = item.account_id\n                account['username'] = item.username\n\n                this.table.items.push(account)\n            })\n\n            this.table.isBusy = false\n        },\n\n        is_valid(field) {\n            var regex_name = /^.{2,}$/\n            var regex_email = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            var regex_unamelength = /^.{6,}$/\n            var regex_passlength = /^.{8,}$/\n            var regex_passcap = /[A-Z]/\n            var regex_passnum = /[0-9]/\n\n            switch (field) {\n                case 'first_name':\n                    var valid_fname = regex_name.test(this.account_info.first_name)\n                    this.valid.first_name = !valid_fname ? 'Name too short (At least 2 characters)' : ''\n                    break\n\n                case 'last_name':\n                    var valid_lname = regex_name.test(this.account_info.last_name)\n                    this.valid.last_name = !valid_lname ? 'Name too short (At least 2 characters)' : ''\n                    break\n\n                case 'email_address':\n                    var valid_email = regex_email.test(this.account_info.email_address)\n                    this.valid.email_address = !valid_email ? 'Invalid email address' : ''\n                    break\n\n                case 'gender':\n                    this.valid.gender = this.account_info.gender == 'Select Gender' ? 'Field is required' : ''\n                    break\n\n                case 'birth_date':\n                    this.valid.birth_date = !this.account_info.birth_date ? 'Field is required' : ''\n                    break\n\n                case 'position':\n                    this.valid.position = this.account_info.position == 'Select Position' ? 'Field is required' : ''\n                    break\n\n                case 'username':\n                    var valid_username = regex_unamelength.test(this.account_info.username)\n                    this.valid.username = !valid_username ? 'Userame too short (At least 6 characters)' : ''\n                    break\n\n                case 'password':\n                    var valid_passlength = regex_passlength.test(this.account_info.password)\n                    var valid_passcap = regex_passcap.test(this.account_info.password)\n                    var valid_passnum = regex_passnum.test(this.account_info.password)\n                    this.valid.password_length = !valid_passlength\n                    this.valid.password_cap = !valid_passcap\n                    this.valid.password_num = !valid_passnum\n\n                case 'password_confirmation':\n                    var valid_passconfirm = this.account_info.password == this.account_info.password_confirmation\n                    this.valid.password_confirmation = !valid_passconfirm ? 'New password doesn\\'t match' : ''\n                    break\n\n                default:\n                    break\n            }\n        },\n\n        check_email: async function () {\n            this.is_valid('email_address')\n\n            if(!this.valid.email_address) {\n                this.valid.email_address = await axios.get('/api/accounts/checkEmail?email_address=' + this.account_info.email_address + '&user_role=employee&username=' + this.account_info.sel_username)\n                    .then((resp) => {\n                        return resp.data ? 'Email already taken' : ''\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n            }\n        },\n\n        check_username: async function () {\n            this.is_valid('username')\n\n            if(!this.valid.username) {\n                this.valid.username = await axios.get('/api/accounts/checkUsername?username=' + this.account_info.username + '&old_username=' + this.account_info.sel_username)\n                    .then((resp) => {\n                        return resp.data ? 'Username already taken' : ''\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n            }\n        },\n\n        open_employee_modal(is_new, account = null) {\n            if(is_new) {\n                this.modal_new = true\n\n                this.account_info.first_name = ''\n                this.account_info.last_name = ''\n                this.account_info.middle_name = ''\n                this.account_info.email_address = ''\n                this.account_info.mobile_number = ''\n                this.account_info.position = 'Select Position'\n                this.account_info.username = ''\n                this.account_info.password = ''\n                this.account_info.password_confirmation = ''\n\n                this.valid.first_name = ''\n                this.valid.last_name = ''\n                this.valid.email_address = ''\n                this.valid.position = ''\n                this.valid.username = ''\n                this.valid.password_length = ''\n                this.valid.password_cap = ''\n                this.valid.password_num = ''\n                this.valid.password_confirmation = ''\n\n                this.$bvModal.show('employee_modal')\n            }\n            else {\n                this.modal_new = false\n\n                this.account_info.account_id = account.account_id\n                this.account_info.first_name = account.first_name\n                this.account_info.last_name = account.last_name\n                this.account_info.middle_name = account.middle_name\n                this.account_info.gender = account.gender\n                this.account_info.birth_date = account.birth_date\n                this.account_info.email_address = account.email_address\n                this.account_info.mobile_number = account.mobile_number\n                this.account_info.position = account.position\n                this.account_info.username = account.username\n                this.account_info.sel_username = account.username\n\n                this.$bvModal.show('employee_modal')\n            }\n        },\n\n        async save_employee() {\n            var all_valid = !(this.valid.first_name != '' || this.account_info.first_name == '') &&\n                            !(this.valid.last_name != '' || this.account_info.last_name == '') &&\n                            !(this.valid.gender != '' || this.account_info.gender == 'Select Gender') &&\n                            !(this.valid.birth_date != '' || this.account_info.birth_date == '') &&\n                            !(this.valid.email_address != '' || this.account_info.email_address == '') &&\n                            !(this.valid.position != '' || this.account_info.position == 'Select Position') &&\n                            !(this.valid.username != '' || this.account_info.username == '')\n\n            var valid_password = !(\n                                        (\n                                            this.valid.password_length != '' ||\n                                            this.valid.password_cap != '' ||\n                                            this.valid.password_num != ''\n                                        ) || this.account_info.password == ''\n                                    ) &&\n                                    !(this.valid.password_confirmation != '' || this.account_info.password_confirmation == '')\n\n            var valid = false\n\n            valid = all_valid\n\n            if(!this.modal_new) {\n                if(this.same_password) {\n                    this.account_info.password = ''\n                    this.account_info.password_confirmation = ''\n                } else {\n                    valid = valid_password\n                }\n            }\n\n            if(!valid) {\n                this.alert.confirm = false\n                this.alert.message = 'Please fill all the required fields!'\n\n                this.alert.okClicked = () => {\n                    this.$bvModal.hide('employees_alert')\n                }\n\n                this.$bvModal.show('employees_alert')\n                return\n            }\n\n            this.modalIsBusy = true\n\n            var _employee_response = await axios.post('/api/accounts/' + (this.modal_new ? 'create' : 'updateProfile'),\n                    this.account_info\n                )\n                .then((resp) => {\n                    this.modalIsBusy = false\n\n                    this.alert.confirm = false\n                    this.alert.message = resp.data.message\n\n                    this.alert.okClicked = () => {\n                        this.$bvModal.hide('employee_modal')\n                        this.$bvModal.hide('employees_alert')\n\n                        this.account_info.first_name = ''\n                        this.account_info.last_name = ''\n                        this.account_info.middle_name = ''\n                        this.account_info.email_address = ''\n                        this.account_info.mobile_number = ''\n                        this.account_info.position = 'Select Position'\n                        this.account_info.username = ''\n                        this.account_info.password = ''\n                        this.account_info.password_confirmation = ''\n\n                        this.getAllEmployees()\n                    }\n\n                    this.$bvModal.show('employees_alert')\n\n                    return resp.data.message\n                })\n                .then((err) => {\n                    console.log(err)\n                })\n        },\n\n        delete_employee(account_id) {\n            this.alert.confirm = true\n            this.alert.message = 'Delete Employee record?'\n\n            this.alert.okClicked = async () => {\n                var delete_employee_response = await axios.post('/api/accounts/delete', {\n                        account_id: account_id\n                    })\n                    .then((resp) => {\n                        this.modalIsBusy = false\n\n                        this.alert.confirm = false\n                        this.alert.message = resp.data.message\n\n                        this.alert.okClicked = () => {\n                            this.$bvModal.hide('employees_alert')\n                            this.getAllEmployees()\n                        }\n\n                        this.$bvModal.show('employees_alert')\n\n                        return resp.data.message\n                    })\n                    .then((err) => {\n                        console.log(err)\n                    })\n            }\n\n            this.alert.cancelClicked = () => {\n                this.$bvModal.hide('employees_alert')\n            }\n\n            this.$bvModal.show('employees_alert')\n        }\n    },\n\n    mounted() {\n        this.getAllEmployees()\n    }\n}\n<\/script>\n\n<style scoped>\n    .cbox-label {\n        font-size: 14px;\n    }\n\n    .separator {\n        border-bottom: solid 1px gray;\n        height: 1px;\n    }\n\n    .separator-lightgray {\n        border-bottom: solid 1px lightgray;\n    }\n</style>\n"],sourceRoot:""}]);const r=o},3461:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".cbox-label[data-v-dc4c37c4]{font-size:14px}.separator[data-v-dc4c37c4]{border-bottom:1px solid gray;height:1px}.separator-lightgray[data-v-dc4c37c4]{border-bottom:1px solid #d3d3d3}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/guests.vue"],names:[],mappings:"AAseA,6BACA,cACA,CAEA,4BACA,4BAAA,CACA,UACA,CAEA,sCACA,+BACA",sourcesContent:["<template>\n    <div class=\"d-flex justify-content-center p-5\">\n        <div class=\"align-self-center bg-white border shadow-sm rounded-sm p-5 w-100\">\n            <h3 class=\"mb-4\">Guests</h3>\n            <div class=\"border py-3 rounded-sm\">\n                <div class=\"d-flex mb-3\">\n                    <div class=\"justify-content-center col-auto\">\n                        <b-button variant=\"success\" class=\"rounded-circle\" title=\"New Guest\" @click=\"open_guest_modal(true)\" v-b-tooltip.hover.noninteractive>\n                            <i class=\"fa fa-plus\"></i>\n                        </b-button>\n                        <b-button variant=\"primary\" class=\"rounded-circle\" title=\"Refresh\" v-b-tooltip.hover.noninteractive @click=\"getAllGuests\">\n                            <i :class=\"'fa fa-refresh' + (table.isBusy ? ' fa-spin' : '')\"></i>\n                        </b-button>\n                    </div>\n                    <div class=\"col\">\n                        <b-input v-model=\"table.filter\" class=\"form-control rounded-pill\" placeholder=\"Search Guest\"></b-input>\n                    </div>\n                </div>\n                <div class=\"d-flex flex-column\">\n                    <b-table class=\"border-bottom vw-75\" :busy=\"table.isBusy\" :fields=\"table.fields\" :filter=\"table.filter\" :filter-included-fields=\"table.filter_on\" :current-page=\"table.current_page\" :items=\"table.items\" striped responsive show-empty>\n                        <template #table-busy>\n                            <div class=\"text-center text-danger my-2\">\n                                <i class=\"fa fa-spinner fa-10x align-middle\"></i>\n                                <strong>Loading...</strong>\n                            </div>\n                        </template>\n                        <template #cell(full_name)=\"row\">\n                            {{ row.item.first_name + ' ' + (row.item.middle_name ? row.item.middle_name[0] + '. ' : '') + row.item.last_name }}\n                        </template>\n                        <template #cell(email_address)=\"row\">\n                            {{ row.item.email_address + (row.item.email_address_verified ? ' (Verified)' : ' (Not Verified)') }}\n                        </template>\n                        <template #cell(paypal_linked)=\"row\">\n                            {{ row.item.paypal_id ? 'Yes' : 'No' }}\n                        </template>\n                        <template #cell(actions)=\"row\">\n                            <div class=\"d-flex justify-content-center\">\n                                <b-button variant=\"success\" class=\"rounded-lg mx-1\" size=\"sm\" title=\"Update Record\" @click=\"open_guest_modal(false, row.item)\" v-b-tooltip.hover.noninteractive>\n                                    <i class=\"fa fa-edit\"></i>\n                                </b-button>\n                                <b-button variant=\"primary\" class=\"rounded-lg mx-1\" size=\"sm\" title=\"Delete Record\" @click=\"delete_guest(row.item.account_id)\" v-b-tooltip.hover.noninteractive>\n                                    <i class=\"fa fa-trash\"></i>\n                                </b-button>\n                            </div>\n                        </template>\n                    </b-table>\n                    <b-pagination class=\"mx-auto my-0\" v-model=\"table .current_page\" :total-rows=\"table.items.length\" :per-page=\"table.per_page\"></b-pagination>\n                </div>\n            </div>\n        </div>\n        <b-modal id=\"guest_modal\" :title=\"(modal_new ? 'New' : 'Update') + ' Guest Record'\" centered scrollable no-close-on-backdrop>\n            <b-overlay :show=\"modalIsBusy\" opacity=\"0.3\">\n                <b-container fluid>\n                    <div class=\"d-flex justify-content-center mb-4\">\n                        <i class=\"fa fa-user-circle my-3\" style=\"font-size: 120px;\"></i>\n                    </div>\n                    <b-form class=\"my-3\" @keydown.enter=\"save_guest()\">\n                        <h6 class=\"text-success font-weight-bold text-black-70 text-black-70\">Basic Information</h6>\n                        <div class=\"font-weight-lighter ml-2 mb-3 text-danger w-100\" style=\"font-size: 9px;\">* Required Field</div>\n                        <b-form-group label=\"First Name *\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.first_name\" @keyup=\"is_valid('first_name')\"></b-form-input>\n                            <span class=\"text-danger i-label\" v-if=\"valid.first_name\">{{ valid.first_name }}</span>\n                        </b-form-group>\n                        <b-form-group label=\"Middle Name\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.middle_name\"></b-form-input>\n                        </b-form-group>\n                        <b-form-row>\n                            <b-form-group class=\"col\" label=\"Gender *\">\n                                <b-form-select class=\"form-control rounded-pill\" v-model=\"account_info.gender\" :options=\"gender_options\" @change=\"is_valid('gender')\"></b-form-select>\n                                <span class=\"text-danger i-label\" v-if=\"valid.gender\">{{ valid.gender }}</span>\n                            </b-form-group>\n                            <b-form-group class=\"col\" label=\"Birth Date *\">\n                                <b-form-input type=\"date\" class=\"form-control rounded-pill\" v-model=\"account_info.birth_date\" @change=\"is_valid('birth_date')\"></b-form-input>\n                                <span class=\"text-danger i-label\" v-if=\"valid.birth_date\">{{ valid.birth_date }}</span>\n                            </b-form-group>\n                        </b-form-row>\n                        <b-form-group label=\"Last Name *\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.last_name\" @keyup=\"is_valid('last_name')\"></b-form-input>\n                            <span class=\"text-danger i-label\" v-if=\"valid.last_name\">{{ valid.last_name }}</span>\n                        </b-form-group>\n                        <b-form-group label=\"Email Address *\">\n                            <b-form-input type=\"email\" class=\"form-control rounded-pill\" v-model=\"account_info.email_address\" @keyup=\"check_email\"></b-form-input>\n                            <span class=\"text-danger i-label\" v-if=\"valid.email_address\">{{ valid.email_address }}</span>\n                        </b-form-group>\n                        <b-form-group label=\"Mobile Number\" class=\"mb-5\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.mobile_number\"></b-form-input>\n                        </b-form-group>\n                        <h6 class=\"text-success font-weight-bold text-black-70\">Login Credentials</h6>\n                        <div class=\"font-weight-lighter ml-2 mb-3 text-danger w-100\" style=\"font-size: 9px;\">* Required Field</div>\n                        <b-form-group label=\"Username *\">\n                            <b-form-input class=\"form-control rounded-pill\" v-model=\"account_info.username\" @keyup=\"check_username\"></b-form-input>\n                            <span class=\"text-danger i-label\" v-if=\"valid.username\">{{ valid.username }}</span>\n                        </b-form-group>\n                        <b-form-group class=\"mb-3\">\n                            <div v-if=\"!same_password || modal_new\">\n                                <b-form-group label=\"Password *\">\n                                    <b-form-input type=\"password\" class=\"form-control rounded-pill\" v-model=\"account_info.password\" @keyup=\"is_valid('password')\"></b-form-input>\n                                    <div class=\"text-danger i-label\">\n                                        <div v-if=\"valid.password_length || valid.password_cap || valid.password_num\">Password should contain atleast</div>\n                                        <div class=\"ml-2\" v-if=\"valid.password_length\">9 characters</div>\n                                        <div class=\"ml-2\" v-if=\"valid.password_cap\">1 capital letter</div>\n                                        <div class=\"ml-2\" v-if=\"valid.password_num\">1 number</div>\n                                    </div>\n                                </b-form-group>\n                                <b-form-group label=\"Confirm Password *\">\n                                    <b-form-input type=\"password\" class=\"form-control rounded-pill\" v-model=\"account_info.password_confirmation\" @keyup=\"is_valid('password_confirmation')\"></b-form-input>\n                                    <span class=\"text-danger i-label\" v-if=\"valid.password_confirmation\">{{ valid.password_confirmation }}</span>\n                                </b-form-group>\n                            </div>\n                            <b-form-checkbox v-model=\"same_password\" v-if=\"!modal_new\">\n                                <span class=\"cbox-label\">\n                                    Same password as before?\n                                </span>\n                            </b-form-checkbox>\n                        </b-form-group>\n                    </b-form>\n                </b-container>\n            </b-overlay>\n            <template #modal-footer>\n                <div class=\"d-flex justify-content-center w-100\">\n                    <b-button class=\"m-2 w-50\" size=\"sm\" variant=\"danger\" @click=\"$bvModal.hide('guest_modal')\" :disabled=\"modalIsBusy\" block pill>Cancel</b-button>\n                    <b-button class=\"m-2 w-50\" size=\"sm\" variant=\"primary\" @click=\"save_guest()\" :disabled=\"modalIsBusy\" block pill>Done</b-button>\n                </div>\n            </template>\n        </b-modal>\n        <alert id=\"guests_alert\" :visible=\"alert.show\" :title=\"alert.title\" :confirm=\"alert.confirm\" :message=\"alert.message\" :okText=\"alert.okText\" :cancelText=\"alert.cancelText\" :okClicked=\"alert.okClicked\" :cancelClicked=\"alert.cancelClicked\"></alert>\n    </div>\n</template>\n\n<script>\nimport Alert from './alert.vue'\n\nexport default {\n    components: {\n        Alert\n    },\n\n    data() {\n        return {\n            all_accounts: '',\n            table: {\n                current_page: 1,\n                filter: '',\n                filter_on: ['username', 'full_name', 'email_address'],\n                fields: [\n                    {\n                        key: 'full_name',\n                        label: 'Full Name',\n                        sortable: true\n                    },\n                    {\n                        key: 'email_address',\n                        label: 'Email Address',\n                        sortable: true\n                    },\n                    {\n                        key: 'paypal_linked',\n                        label: 'Paypal Linked',\n                        sortable: true\n                    },\n                    {\n                        key: 'actions',\n                        label: 'Actions',\n                        sortable: false,\n                    }\n                ],\n                items: [],\n                per_page: 6\n            },\n            modal_new: true,\n            account_info: {\n                sel_username: '',\n                first_name: '',\n                last_name: '',\n                middle_name: '',\n                gender: 'Select Gender',\n                birth_date: '',\n                email_address: '',\n                mobile_number: '',\n                user_role: 'guest',\n                username: '',\n                password: '',\n                password_confirmation: ''\n            },\n            same_password: true,\n            gender_options: ['Select Gender', 'Male', 'Female'],\n            valid: {\n                account_id: -1,\n                first_name: '',\n                last_name: '',\n                gender: '',\n                birth_date: '',\n                email_address: '',\n                username: '',\n                password_length: '',\n                password_cap: '',\n                password_num: '',\n                password_confirmation: ''\n            },\n            isBusy: false,\n            modalIsBusy: false,\n            alert: {\n                show: false,\n                title: 'Notice',\n                message: '',\n                confirm: false,\n                okText: 'Ok',\n                cancelText: 'Cancel',\n                okClicked: () => {this.$bvModal.hide('signin_alert')},\n                cancelClicked: () => {this.$bvModal.hide('signin_alert')},\n            }\n        }\n    },\n\n    methods: {\n        async getAllGuests() {\n            this.table.isBusy = true\n\n            this.all_accounts = await axios.post('/api/accounts/allAccounts', {\n                    user_role: 'guest'\n                })\n                .then(function (resp){\n                    return resp.data\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n\n            this.table.items = []\n\n            this.all_accounts.forEach((item) => {\n                var account = item.user\n\n                account['account_id'] = item.account_id\n                account['username'] = item.username\n\n                this.table.items.push(account)\n            })\n\n            this.table.isBusy = false\n        },\n\n        is_valid(field) {\n            var regex_name = /^.{2,}$/\n            var regex_email = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            var regex_unamelength = /^.{6,}$/\n            var regex_passlength = /^.{8,}$/\n            var regex_passcap = /[A-Z]/\n            var regex_passnum = /[0-9]/\n\n            switch (field) {\n                case 'first_name':\n                    var valid_fname = regex_name.test(this.account_info.first_name)\n                    this.valid.first_name = !valid_fname ? 'Name too short (At least 2 characters)' : ''\n                    break\n\n                case 'last_name':\n                    var valid_lname = regex_name.test(this.account_info.last_name)\n                    this.valid.last_name = !valid_lname ? 'Name too short (At least 2 characters)' : ''\n                    break\n\n                case 'email_address':\n                    var valid_email = regex_email.test(this.account_info.email_address)\n                    this.valid.email_address = !valid_email ? 'Invalid email address' : ''\n                    break\n\n                case 'gender':\n                    this.valid.gender = this.account_info.gender == 'Select Gender' ? 'Field is required' : ''\n                    break\n\n                case 'birth_date':\n                    this.valid.birth_date = !this.account_info.birth_date ? 'Field is required' : ''\n                    break\n\n                case 'username':\n                    var valid_username = regex_unamelength.test(this.account_info.username)\n                    this.valid.username = !valid_username ? 'Userame too short (At least 6 characters)' : ''\n                    break\n\n                case 'password':\n                    var valid_passlength = regex_passlength.test(this.account_info.password)\n                    var valid_passcap = regex_passcap.test(this.account_info.password)\n                    var valid_passnum = regex_passnum.test(this.account_info.password)\n                    this.valid.password_length = !valid_passlength\n                    this.valid.password_cap = !valid_passcap\n                    this.valid.password_num = !valid_passnum\n\n                case 'password_confirmation':\n                    var valid_passconfirm = this.account_info.password == this.account_info.password_confirmation\n                    this.valid.password_confirmation = !valid_passconfirm ? 'New password doesn\\'t match' : ''\n                    break\n\n                default:\n                    break\n            }\n        },\n\n        check_email: async function () {\n            this.is_valid('email_address')\n\n            if(!this.valid.email_address) {\n                this.valid.email_address = await axios.get('/api/accounts/checkEmail?email_address=' + this.account_info.email_address + '&user_role=guest&username=' + this.account_info.sel_username)\n                    .then((resp) => {\n                        return resp.data ? 'Email already taken' : ''\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n            }\n        },\n\n        check_username: async function () {\n            this.is_valid('username')\n\n            if(!this.valid.username) {\n                this.valid.username = await axios.get('/api/accounts/checkUsername?username=' + this.account_info.username + '&old_username=' + this.account_info.sel_username)\n                    .then((resp) => {\n                        return resp.data ? 'Username already taken' : ''\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n            }\n        },\n\n        open_guest_modal(is_new, account = null) {\n            if(is_new) {\n                this.modal_new = true\n\n                this.account_info.first_name = ''\n                this.account_info.last_name = ''\n                this.account_info.middle_name = ''\n                this.account_info.email_address = ''\n                this.account_info.mobile_number = ''\n                this.account_info.username = ''\n                this.account_info.password = ''\n                this.account_info.password_confirmation = ''\n\n                this.valid.first_name = ''\n                this.valid.last_name = ''\n                this.valid.email_address = ''\n                this.valid.username = ''\n                this.valid.password_length = ''\n                this.valid.password_cap = ''\n                this.valid.password_num = ''\n                this.valid.password_confirmation = ''\n\n                this.$bvModal.show('guest_modal')\n            }\n            else {\n                this.modal_new = false\n\n                this.account_info.account_id = account.account_id\n                this.account_info.first_name = account.first_name\n                this.account_info.last_name = account.last_name\n                this.account_info.middle_name = account.middle_name\n                this.account_info.gender = account.gender\n                this.account_info.birth_date = account.birth_date\n                this.account_info.email_address = account.email_address\n                this.account_info.mobile_number = account.mobile_number\n                this.account_info.username = account.username\n                this.account_info.sel_username = account.username\n\n                this.$bvModal.show('guest_modal')\n            }\n        },\n\n        async save_guest() {\n            var all_valid = !(this.valid.first_name != '' || this.account_info.first_name == '') &&\n                            !(this.valid.last_name != '' || this.account_info.last_name == '') &&\n                            !(this.valid.gender != '' || this.account_info.gender == 'Select Gender') &&\n                            !(this.valid.birth_date != '' || this.account_info.birth_date == '') &&\n                            !(this.valid.email_address != '' || this.account_info.email_address == '') &&\n                            !(this.valid.username != '' || this.account_info.username == '')\n\n            var valid_password = !(\n                                        (\n                                            this.valid.password_length != '' ||\n                                            this.valid.password_cap != '' ||\n                                            this.valid.password_num != ''\n                                        ) || this.account_info.password == ''\n                                    ) &&\n                                    !(this.valid.password_confirmation != '' || this.account_info.password_confirmation == '')\n\n            var valid = false\n\n            valid = all_valid\n\n            if(!this.modal_new) {\n                if(this.same_password) {\n                    this.account_info.password = ''\n                    this.account_info.password_confirmation = ''\n                } else {\n                    valid = valid_password\n                }\n            }\n\n            if(!valid) {\n                this.alert.confirm = false\n                this.alert.message = 'Please fill all the required fields!'\n\n                this.alert.okClicked = () => {\n                    this.$bvModal.hide('guests_alert')\n                }\n\n                this.$bvModal.show('guests_alert')\n                return\n            }\n\n            this.modalIsBusy = true\n\n            var _guest_response = await axios.post('/api/accounts/' + (this.modal_new ? 'create' : 'updateProfile'),\n                    this.account_info\n                )\n                .then((resp) => {\n                    this.modalIsBusy = false\n\n                    this.alert.confirm = false\n                    this.alert.message = resp.data.message\n\n                    this.alert.okClicked = () => {\n                        this.$bvModal.hide('guest_modal')\n                        this.$bvModal.hide('guests_alert')\n\n                        this.account_info.first_name = ''\n                        this.account_info.last_name = ''\n                        this.account_info.middle_name = ''\n                        this.account_info.email_address = ''\n                        this.account_info.mobile_number = ''\n                        this.account_info.username = ''\n                        this.account_info.password = ''\n                        this.account_info.password_confirmation = ''\n\n                        this.getAllGuests()\n                    }\n\n                    this.$bvModal.show('guests_alert')\n\n                    return resp.data.message\n                })\n                .then((err) => {\n                    console.log(err)\n                })\n        },\n\n        delete_guest(account_id) {\n            this.alert.confirm = true\n            this.alert.message = 'Delete Guest record?'\n\n            this.alert.okClicked = async () => {\n                var delete_guest_response = await axios.post('/api/accounts/delete', {\n                        account_id: account_id\n                    })\n                    .then((resp) => {\n                        this.modalIsBusy = false\n\n                        this.alert.confirm = false\n                        this.alert.message = resp.data.message\n\n                        this.alert.okClicked = () => {\n                            this.$bvModal.hide('guests_alert')\n                            this.getAllGuests()\n                        }\n\n                        this.$bvModal.show('guests_alert')\n\n                        return resp.data.message\n                    })\n                    .then((err) => {\n                        console.log(err)\n                    })\n            }\n\n            this.alert.cancelClicked = () => {\n                this.$bvModal.hide('guests_alert')\n            }\n\n            this.$bvModal.show('guests_alert')\n        }\n    },\n\n    mounted() {\n        this.getAllGuests()\n    }\n}\n<\/script>\n\n<style scoped>\n    .cbox-label {\n        font-size: 14px;\n    }\n\n    .separator {\n        border-bottom: solid 1px gray;\n        height: 1px;\n    }\n\n    .separator-lightgray {\n        border-bottom: solid 1px lightgray;\n    }\n</style>\n"],sourceRoot:""}]);const r=o},224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".dashboard{height:100vh;min-height:600px;overflow:hidden}.dashboard:hover{overflow-y:auto}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/pagenotfound.vue"],names:[],mappings:"AAaA,WAGA,YAAA,CADA,gBAAA,CADA,eAGA,CAEA,iBACA,eACA",sourcesContent:['<template>\n    <div class="bg-light shadow-sm dashboard">\n        Error 404: Page not Found\n    </div>\n</template>\n\n<script>\nexport default {\n\n}\n<\/script>\n\n<style>\n    .dashboard {\n        overflow: hidden;\n        min-height: 600px;\n        height: 100vh;\n    }\n\n    .dashboard:hover {\n        overflow-y: auto;\n    }\n</style>\n'],sourceRoot:""}]);const r=o},1435:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".alert-btn[data-v-98eb4902]{min-width:100px}.border-divider[data-v-98eb4902]{border-right:3px solid #d3d3d3}.separator[data-v-98eb4902]{border-bottom:1px solid gray;height:1px}.separator-lightgray[data-v-98eb4902]{border-bottom:1px solid #d3d3d3}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/settings.vue"],names:[],mappings:"AAqZA,4BACA,eACA,CAEA,iCACA,8BACA,CAEA,4BACA,4BAAA,CACA,UACA,CAEA,sCACA,+BACA",sourcesContent:['<template>\n    <div class="d-flex justify-content-center p-5">\n        <div class="align-self-center bg-white border shadow-sm rounded-sm p-5 w-100">\n            <h3 class="mb-5">Account Settings</h3>\n            <b-row>\n                <b-col class="px-3 py-3 text-center" xl>\n                    <i class="fa fa-user-circle mb-4" style="font-size: 120px;"></i>\n                    <h5 class="font-weight-bolder">{{ user_fullname }}</h5>\n                    <h6 class="font-weight-bold">Registered since {{ user_regdate }}</h6>\n                    <div class="d-none mt-5" id="alerts">\n                        <b-alert class="d-flex" variant="warning"  :show="!account_info.email_address_verified">\n                            <span class="mt-1">Email not verified!</span>\n                            <b-button class="ml-auto alert-btn" variant="secondary" size="sm" :disabled="ev_busy" @click="send_emailverify_mail" pill>\n                                <i :class="\'fa fa-spinner\' + (ev_busy ? \' mr-1 fa-spin\' : \'d-none\')"></i>\n                                Verify\n                            </b-button>\n                        </b-alert>\n                    </div>\n                </b-col>\n                <b-col xl>\n                    <b-card class="flex-grow-1" no-body>\n                        <b-tabs card>\n                            <b-tab title="Profile" active>\n                                <b-overlay class="mx-auto p-4 w-xl-75" :show="pi_busy" opacity="0.3">\n                                    <h6 class="font-weight-lighter text-center text-black-70">Profile Information</h6>\n                                    <div class="font-weight-lighter mb-3 text-center text-danger w-100" style="font-size: 9px;">* Required Field</div>\n                                    <b-form-group label="First Name *">\n                                        <b-form-input class="form-control rounded-pill" v-model="account_info.first_name" :disabled="username == \'superadmin\'" @keyup="is_valid(\'first_name\')"></b-form-input>\n                                        <span class="text-danger i-label" v-if="valid.first_name">{{ valid.first_name }}</span>\n                                    </b-form-group>\n                                    <b-form-group label="Middle Name" v-if="username != \'superadmin\'">\n                                        <b-form-input class="form-control rounded-pill" v-model="account_info.middle_name"></b-form-input>\n                                    </b-form-group>\n                                    <b-form-group label="Last Name *">\n                                        <b-form-input class="form-control rounded-pill" v-model="account_info.last_name" :disabled="username == \'superadmin\'" @keyup="is_valid(\'last_name\')"></b-form-input>\n                                        <span class="text-danger i-label" v-if="valid.lastname">{{ valid.lastname }}</span>\n                                    </b-form-group>\n                                    <b-form-row v-if="username != \'superadmin\'">\n                                        <b-form-group class="col" label="Gender *">\n                                            <b-form-select class="form-control rounded-pill" v-model="account_info.gender" :options="gender_options" @change="is_valid(\'gender\')"></b-form-select>\n                                            <span class="text-danger i-label" v-if="valid.gender">{{ valid.gender }}</span>\n                                        </b-form-group>\n                                        <b-form-group class="col" label="Birth Date *">\n                                            <b-form-input type="date" class="form-control rounded-pill" v-model="account_info.birth_date" @change="is_valid(\'birth_date\')"></b-form-input>\n                                            <span class="text-danger i-label" v-if="valid.birth_date">{{ valid.birth_date }}</span>\n                                        </b-form-group>\n                                    </b-form-row>\n                                    <b-form-group :label="\'Email Address *\' + (account_info.email_address_verified ? \' (Verified)\' : \' (Not Verified)\')">\n                                        <b-form-input type="email" class="form-control rounded-pill" v-model="account_info.email_address" @keyup="check_email"></b-form-input>\n                                        <span class="text-danger i-label" v-if="valid.email_address">{{ valid.email_address }}</span>\n                                    </b-form-group>\n                                    <b-form-group label="Mobile Number">\n                                        <b-form-input class="form-control rounded-pill" v-model="account_info.mobile_number"></b-form-input>\n                                    </b-form-group>\n                                    <b-form-group label="Position *">\n                                        <b-form-select class="form-control rounded-pill" v-model="account_info.position" :options="position_options" :disabled="username == \'superadmin\'" @change="is_valid(\'position\')"></b-form-select>\n                                        <span class="text-danger i-label" v-if="valid.position">{{ valid.position }}</span>\n                                    </b-form-group>\n                                    <b-form-group class="mt-4">\n                                        <b-button variant="primary" @click="update_profile" :disabled="(valid.first_name != \'\' && account_info.first_name == \'\') || (valid.last_name != \'\' && account_info.last_name == \'\') || (valid.email_address != \'\' && account_info.email_address == \'\') || (valid.birth_date != \'\' && account_info.birth_date == \'\') || (valid.gender != \'\' && account_info.gender == \'Select Gender\')" block pill>Save Changes</b-button>\n                                    </b-form-group>\n                                </b-overlay>\n                            </b-tab>\n                            <b-tab title="Login Credentials">\n                                <b-overlay class="mx-auto p-4 w-xl-75" :show="lcu_busy" opacity="0.3" v-if="username != \'superadmin\'">\n                                    <h6 class="font-weight-lighter text-center text-black-70">Change Username</h6>\n                                    <div class="font-weight-lighter mb-3 text-center text-danger w-100" style="font-size: 9px;">* Required Field</div>\n                                    <b-form-group label="New Username *">\n                                        <b-form-input class="form-control rounded-pill" v-model="uchange.username" @keyup="check_username"></b-form-input>\n                                        <span class="text-danger i-label" v-if="valid.username">{{ valid.username }}</span>\n                                    </b-form-group>\n                                    <b-form-group label="Confirm Password *">\n                                        <b-form-input type="password" class="form-control rounded-pill" v-model="uchange.password"></b-form-input>\n                                    </b-form-group>\n                                    <b-form-group class="mt-4">\n                                        <b-button variant="primary" @click="update_username" :disabled="valid.username != \'\' || !uchange.password" block pill>Save Changes</b-button>\n                                    </b-form-group>\n                                </b-overlay>\n                                <div class="mx-2 my-4 separator separator-lightgray"></div>\n                                <b-overlay class="p-4 px-5" :show="lcp_busy" opacity="0.3">\n                                    <h6 class="font-weight-lighter mb-3 text-center text-black-70">Change Password</h6>\n                                    <b-form-group label="Old Password *">\n                                        <b-form-input type="password" class="form-control rounded-pill" v-model="pchange.old_password"></b-form-input>\n                                    </b-form-group>\n                                    <b-form-group label="New Password *">\n                                        <b-form-input type="password" class="form-control rounded-pill" v-model="pchange.new_password" @keyup="is_valid(\'password\')"></b-form-input>\n                                        <div class="text-danger i-label">\n                                            <div v-if="valid.password_length || valid.password_cap || valid.password_num">Password should contain atleast</div>\n                                            <div class="ml-2" v-if="valid.password_length">9 characters</div>\n                                            <div class="ml-2" v-if="valid.password_cap">1 capital letter</div>\n                                            <div class="ml-2" v-if="valid.password_num">1 number</div>\n                                        </div>\n                                    </b-form-group>\n                                    <b-form-group label="Confirm New Password *">\n                                        <b-form-input type="password" class="form-control rounded-pill" v-model="pchange.password_confirmation" @keyup="is_valid(\'password_confirmation\')"></b-form-input>\n                                        <span class="text-danger i-label" v-if="valid.password_confirmation">{{ valid.password_confirmation }}</span>\n                                    </b-form-group>\n                                    <b-form-group class="mt-4">\n                                        <b-button variant="primary" @click="update_password" :disabled="!pchange.old_password || valid.password_length != \'\' || valid.password_cap != \'\' || valid.password_num != \'\' || valid.password_confirmation != \'\'" block pill>Save Changes</b-button>\n                                    </b-form-group>\n                                </b-overlay>\n                            </b-tab>\n                        </b-tabs>\n                    </b-card>\n                </b-col>\n            </b-row>\n        </div>\n        <alert id="settings_alert" :visible="alert.show" :title="alert.title" :confirm="alert.confirm" :message="alert.message" :okText="alert.okText" :cancelText="alert.cancelText" :okClicked="alert.okClicked" :cancelClicked="alert.cancelClicked"></alert>\n    </div>\n</template>\n\n<script>\nimport Alert from \'./alert.vue\'\n\nexport default {\n    components: {\n        Alert\n    },\n\n    data() {\n        return {\n            username: \'N/A\',\n            user_fullname: \'N/A\',\n            user_regdate: \'N/A\',\n            account_info: {\n                first_name: \'\',\n                middle_name: \'\',\n                last_name: \'\',\n                gender: \'Select Gender\',\n                birth_date: \'\',\n                email_address: \'\',\n                old_email_address: \'\',\n                email_address_verified: false,\n                mobile_number: \'\',\n                position: \'\'\n            },\n            gender_options: [\'Select Gender\', \'Male\', \'Female\'],\n            position_options: [\'Select Position\', \'Receptionist\', \'Housekeeper\', \'Administrator\'],\n            uchange: {\n                username: \'\',\n                password: \'\'\n            },\n            pchange: {\n                old_password: \'\',\n                new_password: \'\',\n                password_confirmation: \'\'\n            },\n            valid: {\n                first_name: \'\',\n                last_name: \'\',\n                gender: \'\',\n                birth_date: \'\',\n                email_address: \'\',\n                position: \'\',\n                username: \'\',\n                password_length: \'\',\n                password_cap: \'\',\n                password_num: \'\',\n                password_confirmation: \'\'\n            },\n            ev_busy: false,\n            pi_busy: false,\n            lcu_busy: false,\n            lcp_busy: false,\n            alert: {\n                show: false,\n                title: \'Notice\',\n                message: \'\',\n                confirm: false,\n                okText: \'Ok\',\n                cancelText: \'Cancel\',\n                okClicked: () => {this.$bvModal.hide(\'settings_alert\')},\n                cancelClicked: () => {this.$bvModal.hide(\'settings_alert\')},\n            }\n        }\n    },\n\n    methods: {\n        is_valid(field) {\n            var regex_name = /^.{2,}$/\n            var regex_email = /^(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            var regex_unamelength = /^.{6,}$/\n            var regex_passlength = /^.{8,}$/\n            var regex_passcap = /[A-Z]/\n            var regex_passnum = /[0-9]/\n\n            switch (field) {\n                case \'first_name\':\n                    var valid_fname = regex_name.test(this.account_info.first_name)\n                    this.valid.first_name = !valid_fname ? \'Name too short (At least 2 characters)\' : \'\'\n                    break\n\n                case \'last_name\':\n                    var valid_lname = regex_name.test(this.account_info.last_name)\n                    this.valid.last_name = !valid_lname ? \'Name too short (At least 2 characters)\' : \'\'\n                    break\n\n                case \'email_address\':\n                    var valid_email = regex_email.test(this.account_info.email_address)\n                    this.valid.email_address = !valid_email ? \'Invalid email address\' : \'\'\n                    break\n\n                case \'gender\':\n                    this.valid.gender = this.account_info.gender == \'Select Gender\' ? \'Field is required\' : \'\'\n                    break\n\n                case \'birth_date\':\n                    this.valid.birth_date = !this.account_info.birth_date ? \'Field is required\' : \'\'\n                    break\n\n                case \'position\':\n                    this.valid.position = this.account_info.position == \'Select Position\' ? \'Field is required\' : \'\'\n                    break\n\n                case \'username\':\n                    var valid_username = regex_unamelength.test(this.uchange.username)\n                    this.valid.username = !valid_username ? \'Userame too short (At least 6 characters)\' : \'\'\n                    break\n\n                case \'password\':\n                    var valid_passlength = regex_passlength.test(this.pchange.new_password)\n                    var valid_passcap = regex_passcap.test(this.pchange.new_password)\n                    var valid_passnum = regex_passnum.test(this.pchange.new_password)\n                    this.valid.password_length = !valid_passlength\n                    this.valid.password_cap = !valid_passcap\n                    this.valid.password_num = !valid_passnum\n                    break\n\n                case \'password_confirmation\':\n                    var valid_passconfirm = this.pchange.new_password == this.pchange.password_confirmation\n                    this.valid.password_confirmation = !valid_passconfirm ? \'New password doesn\\\'t match\' : \'\'\n                    break\n\n                default:\n                    break\n            }\n        },\n\n        check_email: async function () {\n            this.is_valid(\'email_address\')\n\n            if(!this.valid.email_address) {\n                this.valid.email_address = await axios.get(\'/api/accounts/checkEmail?email_address=\' + this.account_info.email_address + \'&user_role=employee&self=1\')\n                    .then((resp) => {\n                        return resp.data ? \'Email already taken\' : null\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n            }\n        },\n\n        check_username: async function () {\n            this.is_valid(\'username\')\n\n            if(!this.valid.username) {\n                this.valid.username = await axios.get(\'/api/accounts/checkUsername?username=\' + this.uchange.username)\n                    .then((resp) => {\n                        return resp.data ? \'Username already taken\' : null\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n            }\n        },\n\n        async update_profile() {\n            document.getElementById(\'alerts\').classList.add(\'d-none\')\n\n            var uprofile_reponse = await axios.post(\'/api/accounts/updateProfile\', this.account_info)\n                .then((resp) => {\n                    this.$emit(\'profilechanged\')\n                    this.getCurrentUser()\n                    return resp.data\n                }).catch((err) => {\n                    console.log(err)\n                })\n\n            this.alert.confirm = false\n            this.alert.message = uprofile_reponse.message\n\n            this.alert.okClicked = () => {\n                this.$bvModal.hide(\'settings_alert\')\n            }\n\n            this.$bvModal.show(\'settings_alert\')\n        },\n\n        async update_username() {\n            var uusername_reponse = await axios.post(\'/api/accounts/updateUsername\', this.uchange)\n                .then((resp) => {\n                    this.$emit(\'profilechanged\')\n                    this.getCurrentUser()\n                    return resp.data\n                }).catch((err) => {\n                    console.log(err)\n                })\n\n            this.alert.confirm = false\n            this.alert.message = uusername_reponse.message\n\n            this.alert.okClicked = () => {\n                this.uchange.password = \'\'\n\n                this.$bvModal.hide(\'settings_alert\')\n            }\n\n            this.$bvModal.show(\'settings_alert\')\n        },\n\n        async update_password() {\n            var upassword_reponse = await axios.post(\'/api/accounts/updatePassword\', this.pchange)\n                .then((resp) => {\n                    this.$emit(\'profilechanged\')\n                    this.getCurrentUser()\n                    return resp.data\n                }).catch((err) => {\n                    console.log(err)\n                })\n\n            this.alert.confirm = false\n            this.alert.message = upassword_reponse.message\n\n            this.alert.okClicked = () => {\n                this.pchange.old_password = \'\'\n                this.pchange.new_password = \'\'\n                this.pchange.password_confirmation = \'\'\n\n                this.$bvModal.hide(\'settings_alert\')\n            }\n\n            this.$bvModal.show(\'settings_alert\')\n        },\n\n        async getCurrentUser() {\n            var curruser_reponse = await axios.post(\'/api/accounts/current\')\n                .then((resp) => {\n                    if(resp.data.username) {\n                        var user_info = resp.data.current.admin\n\n                        this.username = resp.data.current.username\n                        this.uchange.username = resp.data.username\n                        this.user_fullname = user_info.first_name + \' \' + (user_info.middle_name ? user_info.middle_name[0] + \'. \' : \'\') + user_info.last_name\n                        this.user_regdate = this.$moment(user_info.created_at).format(\'LL\')\n                        this.account_info.first_name = user_info.first_name\n                        this.account_info.middle_name = user_info.middle_name\n                        this.account_info.last_name = user_info.last_name\n                        this.account_info.gender = user_info.gender\n                        this.account_info.birth_date = user_info.birth_date\n                        this.account_info.email_address = user_info.email_address\n                        this.account_info.old_email_address = user_info.email_address\n                        this.account_info.email_address_verified = user_info.email_address_verified\n                        this.account_info.mobile_number = user_info.mobile_number\n                        this.account_info.position = user_info.position\n                    }\n\n                    setTimeout(() => {\n                        document.getElementById(\'alerts\').classList.remove(\'d-none\')\n                    }, 1000);\n\n                    return resp.data\n                }).catch((err) => {\n                    console.log(err)\n                })\n        },\n\n        async send_emailverify_mail() {\n            this.ev_busy = true\n\n            var emailverify_response = await axios.post(\'/api/token/emailverify/create\',\n                    this.emailVerifyInfo\n                ).then((resp) => {\n                    this.ev_busy = false\n\n                    this.alert.confirm = false\n                    this.alert.message = resp.data.message\n\n                    this.alert.okClicked = () => {\n                        this.$bvModal.hide(\'settings_alert\')\n                        this.emailVerifyInfo.email_address = \'\'\n                        this.$router.push(\'/\')\n                    }\n\n                    this.$bvModal.show(\'settings_alert\')\n\n                    return resp.data\n                }).catch((err) => {\n                    this.ev_busy = false\n                    console.log(err)\n                })\n        }\n    },\n\n    computed: {\n        emailVerifyInfo() {\n            return {\n                email_address: this.account_info.old_email_address\n            }\n        }\n    },\n    mounted() {\n        this.getCurrentUser()\n    }\n}\n<\/script>\n\n<style scoped>\n    .alert-btn {\n        min-width: 100px;\n    }\n\n    .border-divider {\n        border-right: solid 3px lightgray;\n    }\n\n    .separator {\n        border-bottom: solid 1px gray;\n        height: 1px;\n    }\n\n    .separator-lightgray {\n        border-bottom: solid 1px lightgray;\n    }\n</style>\n'],sourceRoot:""}]);const r=o},7253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".sidebar-wrapper{background-color:#091691;padding:20px;position:fixed;width:258px;z-index:500}.sb-items-header{color:#f5f5f5;font-size:15px;font-weight:700;margin-bottom:10px}.sb-items{color:#add8e6;font-size:14px;padding:10px 0}.sb-items>i{color:#abf7c2;text-align:center;width:30px}.sb-items.active,.sb-items:hover{color:#dcebf0;font-weight:700;text-decoration:none}.sb-items.active>i,.sb-items:hover>i{color:#72f79a}.separator{border-bottom:1px solid #f5f5f5;height:2px;margin:15px 0}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/sidebar.vue"],names:[],mappings:"AA4FA,iBACA,wBAAA,CACA,YAAA,CACA,cAAA,CACA,WAAA,CACA,WACA,CAEA,iBACA,aAAA,CACA,cAAA,CACA,eAAA,CACA,kBACA,CAEA,UACA,aAAA,CACA,cAAA,CACA,cACA,CAEA,YACA,aAAA,CACA,iBAAA,CACA,UACA,CAEA,iCACA,aAAA,CAEA,eAAA,CADA,oBAEA,CAEA,qCACA,aACA,CAEA,WAEA,+BAAA,CACA,UAAA,CAFA,aAGA",sourcesContent:["<template>\n    <div class=\"d-flex flex-column h-100 sidebar-wrapper\">\n        <div class=\"sb-items-header\">\n            Main Management\n        </div>\n        <router-link :class=\"'sb-items' + (location == '/dashboard' ? ' active' : '')\" :to=\"{ name: 'dashboard' }\">\n            <i class=\"fa fa-dashboard mr-1\"></i>\n            Dashboard\n        </router-link>\n        <router-link :class=\"'sb-items' + (location == '/schedules' ? ' active' : '')\" :to=\"{ name: 'schedules' }\">\n            <i class=\"fa fa-calendar mr-1\"></i>\n            Bookings & Reservations\n        </router-link>\n        <router-link :class=\"'sb-items' + (location == '/billings' ? ' active' : '')\" :to=\"{ name: 'billings' }\">\n            <i class=\"fa fa-money mr-1\"></i>\n            Billings\n        </router-link>\n        <router-link :class=\"'sb-items' + (location == '/inventory' ? ' active' : '')\" :to=\"{ name: 'inventory' }\">\n            <i class=\"fa fa-hotel mr-1\"></i>\n            Room Inventory\n        </router-link>\n        <div class=\"separator\"></div>\n        <div class=\"sb-items-header\">\n            Data Management\n        </div>\n        <router-link :class=\"'sb-items' + (location == '/amenities' ? ' active' : '')\" :to=\"{ name: 'amenities' }\">\n            <i class=\"fa fa-bullseye mr-1\"></i>\n            Amenities\n        </router-link>\n        <router-link :class=\"'sb-items' + (location == '/offers' ? ' active' : '')\" :to=\"{ name: 'offers' }\">\n            <i class=\"fa fa-handshake-o mr-1\"></i>\n            Promo Offers\n        </router-link>\n        <router-link :class=\"'sb-items' + (location == '/rooms' ? ' active' : '')\" :to=\"{ name: 'rooms' }\">\n            <i class=\"fa fa-building-o mr-1\"></i>\n            Rooms & Suites\n        </router-link>\n        <div class=\"separator\"></div>\n        <div class=\"sb-items-header\">\n            Accounts Management\n        </div>\n        <router-link :class=\"'sb-items' + (location == '/employees' ? ' active' : '')\" :to=\"{ name: 'employees' }\" v-if=\"username == 'superadmin'\">\n            <i class=\"fa fa-cogs mr-1\"></i>\n            Employees\n        </router-link>\n        <router-link :class=\"'sb-items' + (location == '/guests' ? ' active' : '')\" :to=\"{ name: 'guests' }\">\n            <i class=\"fa fa-users mr-1\"></i>\n            Guests\n        </router-link>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    data() {\n        return {\n            location: location.pathname\n        }\n    },\n\n    methods: {\n        getPath: function() {\n            var path = location.pathname;\n\n            path = path.substring(path.indexOf(\"/\") + 1);\n            path = path.substring(path.indexOf(\"/\"));\n\n            this.location = location.host == \"localhost\" ? path : location.pathname;\n\n            document.title = 'Vida Emirates Hills Hotel | ' + this.ucwords(this.$route.name)\n        },\n\n        ucwords(str) {\n            return str.toLowerCase().replace(/\\b[a-z]/g, function(letter) {\n                return letter.toUpperCase();\n            });\n        }\n    },\n\n    watch: {\n        $route: function() {\n            window.scrollTo(0, 0)\n            this.getPath()\n        }\n    },\n\n    props: ['username']\n}\n<\/script>\n\n<style>\n    .sidebar-wrapper {\n        background-color: rgb(9, 22, 145);\n        padding: 20px;\n        position: fixed;\n        width: 258px;\n        z-index: 500;\n    }\n\n    .sb-items-header {\n        color: whitesmoke;\n        font-size: 15px;\n        font-weight: bold;\n        margin-bottom: 10px;\n    }\n\n    .sb-items {\n        color: lightblue;\n        font-size: 14px;\n        padding: 10px 0;\n    }\n\n    .sb-items > i {\n        color: rgb(171, 247, 194);\n        text-align: center;\n        width: 30px;\n    }\n\n    .sb-items.active, .sb-items:hover {\n        color: rgb(220, 235, 240);\n        text-decoration: none;\n        font-weight: bold;\n    }\n\n    .sb-items.active > i, .sb-items:hover > i {\n        color: rgb(114, 247, 154);\n    }\n\n    .separator {\n        margin: 15px 0;\n        border-bottom: solid 1px whitesmoke;\n        height: 2px;\n    }\n</style>\n"],sourceRoot:""}]);const r=o},8379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".navbar-logo[data-v-6b6abbd3]{height:90px}.signin-wrapper[data-v-6b6abbd3]{width:420px}.separator[data-v-6b6abbd3]{border-bottom:1px solid gray;height:1px}.cbox-label[data-v-6b6abbd3],.fpass-label[data-v-6b6abbd3]{cursor:pointer;font-size:12px}.fpass-label[data-v-6b6abbd3]:hover,.id-label[data-v-6b6abbd3]:hover{color:#007bff;text-decoration:none}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/signin.vue"],names:[],mappings:"AA2JA,8BACA,WACA,CAEA,iCACA,WACA,CAEA,4BACA,4BAAA,CACA,UACA,CAEA,2DACA,cAAA,CACA,cACA,CAEA,qEACA,aAAA,CACA,oBACA",sourcesContent:['<template>\n    <div class="d-flex justify-content-center p-5">\n        <div class="align-self-center signin-wrapper bg-white border shadow-sm rounded-sm p-5" @keydown.enter="signIn">\n            <div class="mb-5 text-center">\n                <img src="/storage/media/logo-vida.svg" class="mb-3 navbar-logo" alt="">\n                <h3 class="font-weight-bold text-center">Administrator Login</h3>\n            </div>\n            <b-overlay :show="isBusy" opacity="0.3">\n                <b-form class="my-3">\n                    <b-form-group label="Username">\n                        <b-form-input class="form-control rounded-pill" v-model="loginInfo.username"></b-form-input>\n                    </b-form-group>\n                    <b-form-group label="Password">\n                        <b-form-input class="form-control rounded-pill" type="password" v-model="loginInfo.password"></b-form-input>\n                    </b-form-group>\n                    <b-form-group class="px-2">\n                        <div class="d-flex justify-content-between">\n                            <b-form-checkbox v-model="loginInfo.remember">\n                                <span class="cbox-label">Remember Me</span>\n                            </b-form-checkbox>\n                            <a href="#" class="text-primary fpass-label" @click="$bvModal.show(\'forgot_pass_modal\')">Forgot Password</a>\n                        </div>\n                    </b-form-group>\n                    <b-form-group class="mt-4">\n                        <b-button variant="primary" @click="signIn" :disabled="!(loginInfo.username && loginInfo.password)" block pill>Sign In</b-button>\n                    </b-form-group>\n                </b-form>\n            </b-overlay>\n        </div>\n        <b-modal id="forgot_pass_modal" centered hide-footer>\n            <b-overlay :show="modalIsBusy" opacity="0.3" class="mx-4 p-2">\n                <i class="d-block fa fa-key text-center mb-2" style="font-size: 48px;"></i>\n                <h4 class="font-weight-bold text-center mb-3">Forgot Password</h4>\n                <h6 class="font-weight-lighter text-center text-black-60 mb-4">Send a mail to email address to reset password</h6>\n                <b-form-group class="mb-4" label="Email Address">\n                    <b-form-input type="email" class="form-control rounded-pill text-center" v-model="forgotPassInfo.email_address" @keyup="is_valid(\'email_address\')"></b-form-input>\n                    <span class="text-danger i-label" v-if="valid.email_address">{{ valid.email_address }}</span>\n                </b-form-group>\n                <div class="d-flex justify-content-center w-100">\n                    <b-button class="m-2 w-50" size="sm" variant="primary" @click="send_passchange_mail()" :disabled="modalIsBusy || forgotPassInfo.email_address == \'\' || valid.email_address != \'\'" block pill>Done</b-button>\n                </div>\n            </b-overlay>\n        </b-modal>\n        <alert id="signin_alert" :visible="alert.show" :title="alert.title" :confirm="alert.confirm" :message="alert.message" :okText="alert.okText" :cancelText="alert.cancelText" :okClicked="alert.okClicked" :cancelClicked="alert.cancelClicked"></alert>\n    </div>\n</template>\n\n<script>\nimport Alert from \'./alert.vue\'\n\nexport default {\n    components: {\n        Alert\n    },\n\n    data() {\n        return {\n            useUsername: true,\n            loginInfo: {\n                username: \'\',\n                password: \'\',\n                remember: false,\n            },\n            forgotPassInfo: {\n                email_address: \'\'\n            },\n            valid: {\n                email_address: \'\'\n            },\n            modalIsBusy: false,\n            isBusy: false,\n            alert: {\n                show: false,\n                title: \'Notice\',\n                message: \'\',\n                confirm: false,\n                okText: \'Ok\',\n                cancelText: \'Cancel\',\n                okClicked: () => {this.$bvModal.hide(\'signin_alert\')},\n                cancelClicked: () => {this.$bvModal.hide(\'signin_alert\')},\n            }\n        }\n    },\n    methods: {\n        async signIn() {\n            this.isBusy = true\n\n            var signin_response = await axios.post(\'/api/accounts/signin\',\n                    this.loginInfo\n                ).then((resp) => {\n                    this.isBusy = false\n\n                    if(resp.data.username) {\n                        this.$emit(\'signedin\')\n                    }\n                    else {\n                        this.alert.confirm = false\n                        this.alert.message = resp.data.message\n\n                        this.alert.okClicked = () => {\n                            this.$bvModal.hide(\'signin_alert\')\n                        }\n\n                        this.$bvModal.show(\'signin_alert\')\n                    }\n\n                    return resp.data\n                }).catch((err) => {\n                    this.isBusy = true\n                    console.log(err)\n                })\n        },\n\n        is_valid(field) {\n            var regex_email = /^(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\n            switch (field) {\n                case \'email_address\':\n                    var valid_email = regex_email.test(this.forgotPassInfo.email_address)\n                    this.valid.email_address = !valid_email ? \'Invalid email address\' : \'\'\n                    break\n            }\n        },\n\n        async send_passchange_mail() {\n            this.modalIsBusy = true\n\n            var passchange_response = await axios.post(\'/api/token/passchange/create\',\n                    this.forgotPassInfo\n                ).then((resp) => {\n                    this.modalIsBusy = false\n\n                    this.alert.confirm = false\n                    this.alert.message = resp.data.message\n\n                    this.alert.okClicked = () => {\n                        this.$bvModal.hide(\'signin_alert\')\n                        this.$bvModal.hide(\'forgot_pass_modal\')\n                        this.forgotPassInfo.email_address = \'\'\n                        this.valid.email_address = \'\'\n                    }\n\n                    this.$bvModal.show(\'signin_alert\')\n\n                    return resp.data\n                }).catch((err) => {\n                    this.isBusy = true\n                    console.log(err)\n                })\n        }\n    }\n}\n<\/script>\n\n<style scoped>\n    .navbar-logo {\n        height: 90px;\n    }\n\n    .signin-wrapper {\n        width: 420px;\n    }\n\n    .separator {\n        border-bottom: solid 1px gray;\n        height: 1px;\n    }\n\n    .cbox-label, .fpass-label {\n        cursor: pointer;\n        font-size: 12px;\n    }\n\n    .fpass-label:hover, .id-label:hover {\n        color: #007BFF;\n        text-decoration: none;\n    }\n</style>\n'],sourceRoot:""}]);const r=o},5083:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".signup-wrapper[data-v-c1d8be5e]{width:420px}.separator[data-v-c1d8be5e]{border-bottom:1px solid gray;height:1px}.separator-lightgray[data-v-c1d8be5e]{border-bottom:1px solid #d3d3d3}.cbox-label[data-v-c1d8be5e],.fpass-label[data-v-c1d8be5e],.priv-label[data-v-c1d8be5e],.terms-label[data-v-c1d8be5e]{font-size:14px}.note-text[data-v-c1d8be5e],.priv-label[data-v-c1d8be5e]{font-size:13px}.fpass-label[data-v-c1d8be5e]:hover,.priv-label[data-v-c1d8be5e]:hover,.terms-label[data-v-c1d8be5e]:hover{color:#007bff;text-decoration:none}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/signup.vue"],names:[],mappings:"AAsTA,iCACA,WACA,CAEA,4BACA,4BAAA,CACA,UACA,CAEA,sCACA,+BACA,CAEA,sHACA,cACA,CAMA,yDACA,cACA,CAEA,2GACA,aAAA,CACA,oBACA",sourcesContent:['<template>\n    <div class="d-flex justify-content-center p-5">\n        <div class="align-self-center signup-wrapper bg-white border shadow-sm rounded-sm p-5">\n            <b-overlay :show="isBusy">\n                <div class="mb-5">\n                    <h2 class="font-weight-bold text-center">Create Account</h2>\n                    <h6 class="font-weight-lighter text-center text-black-50">Do more, book more! Create and account now to book reservations at our hotel.</h6>\n                </div>\n                <b-form class="my-3" v-if="step == 0">\n                    <b-form-group class="mt-4">\n                        <b-button variant="primary" @click="signUp(++step)" block pill>Continue</b-button>\n                    </b-form-group>\n                </b-form>\n                <b-form class="my-3" v-if="step == 1" @keydown.enter="signUp(2)">\n                    <h6 class="font-weight-lighter text-center text-black-70">Basic Information</h6>\n                    <div class="font-weight-lighter mb-3 text-center text-danger w-100" style="font-size: 9px;">* Required Field</div>\n                    <b-form-group label="First Name *">\n                        <b-form-input class="form-control rounded-pill" v-model="account_info.first_name" @keyup="is_valid(\'first_name\')"></b-form-input>\n                        <span class="text-danger i-label" v-if="valid.first_name">{{ valid.first_name }}</span>\n                    </b-form-group>\n                    <b-form-group label="Last Name *">\n                        <b-form-input class="form-control rounded-pill" v-model="account_info.last_name" @keyup="is_valid(\'last_name\')"></b-form-input>\n                        <span class="text-danger i-label" v-if="valid.lastname">{{ valid.lastname }}</span>\n                    </b-form-group>\n                    <b-form-group label="Email Address *">\n                        <b-form-input type="email" class="form-control rounded-pill" v-model="account_info.email_address" @keyup="check_email"></b-form-input>\n                        <span class="text-danger i-label" v-if="valid.email_address">{{ valid.email_address }}</span>\n                    </b-form-group>\n                    <b-form-group label="Position *">\n                        <b-form-select class="form-control rounded-pill" v-model="account_info.position" :options="position_options" @change="is_valid(\'position\')"></b-form-select>\n                        <span class="text-danger i-label" v-if="valid.position">{{ valid.position }}</span>\n                    </b-form-group>\n                    <b-form-group>\n                        <b-form-checkbox v-model="accept_terms">\n                            <span class="cbox-label">\n                                I have read and agree to the <router-link class="terms-label" :to="{ name:\'termsconditions\' }">Terms and Conditions</router-link>.\n                            </span>\n                        </b-form-checkbox>\n                    </b-form-group>\n                    <div class="d-flex mx-2 my-3">\n                        <div class="col align-self-center separator separator-lightgray"></div>\n                    </div>\n                    <div class="mb-4 px-2">\n                        <span class="d-block font-weight-lighter text-center text-black-50 note-text">Please visit our <router-link class="priv-label" :to="{ name: \'privacypolicy\' }">Privacy Policy</router-link> to understand how we handle your personal data</span>\n                    </div>\n                    <b-form-group class="mt-4">\n                        <b-button variant="primary" @click="signUp(2)" block pill>Next</b-button>\n                    </b-form-group>\n                </b-form>\n                <b-form class="my-3" v-if="step == 2" @keydown.enter="signUp(3)">\n                    <h6 class="font-weight-lighter text-center text-black-70">Login Credentials</h6>\n                    <div class="font-weight-lighter mb-3 text-center text-danger w-100" style="font-size: 9px;">* Required Field</div>\n                    <b-form-group label="Username *">\n                        <b-form-input class="form-control rounded-pill" v-model="account_info.username" @keyup="check_username"></b-form-input>\n                        <span class="text-danger i-label" v-if="valid.username">{{ valid.username }}</span>\n                    </b-form-group>\n                    <b-form-group label="Password *">\n                        <b-form-input type="password" class="form-control rounded-pill" v-model="account_info.password" @keyup="is_valid(\'password\')"></b-form-input>\n                        <div class="text-danger i-label">\n                            <div v-if="valid.password_length || valid.password_cap || valid.password_num">Password should contain atleast</div>\n                            <div class="ml-2" v-if="valid.password_length">9 characters</div>\n                            <div class="ml-2" v-if="valid.password_cap">1 capital letter</div>\n                            <div class="ml-2" v-if="valid.password_num">1 number</div>\n                        </div>\n                    </b-form-group>\n                    <b-form-group label="Confirm Password *">\n                        <b-form-input type="password" class="form-control rounded-pill" v-model="account_info.password_confirmation" @keyup="is_valid(\'password_confirmation\')"></b-form-input>\n                        <span class="text-danger i-label" v-if="valid.password_confirmation">{{ valid.password_confirmation }}</span>\n                    </b-form-group>\n                    <b-form-group class="mt-4">\n                        <b-button variant="primary" @click="signUp(3)" block pill>Done</b-button>\n                    </b-form-group>\n                </b-form>\n                <div v-if="step == 0">\n                    <div class="d-flex my-4">\n                        <div class="col align-self-center separator"></div>\n                        <span class="col-auto align-self-center px-1">or</span>\n                        <div class="col align-self-center separator"></div>\n                    </div>\n                    <div class="mb-5">\n                        <h2 class="font-weight-bold text-center">Sign In</h2>\n                        <h6 class="font-weight-lighter text-center text-black-50">Already have an account? Sign In now!</h6>\n                    </div>\n                    <b-form-group class="mt-4">\n                        <router-link class="btn btn-block btn-warning rounded-pill" :to="{ name: \'signin\' }">Sign In</router-link>\n                    </b-form-group>\n                </div>\n            </b-overlay>\n        </div>\n        <b-modal id="emailVerify" centered scrollable no-close-on-backdrop hide-header hide-footer>\n            Test\n        </b-modal>\n        <alert id="signup_alert" :visible="alert.show" :title="alert.title" :confirm="alert.confirm" :message="alert.message" :okText="alert.okText" :cancelText="alert.cancelText" :okClicked="alert.okClicked" :cancelClicked="alert.cancelClicked"></alert>\n    </div>\n</template>\n\n<script>\nimport Alert from \'./alert.vue\'\n\nexport default {\n    components: {\n        Alert\n    },\n    data() {\n        return {\n            completed: [false, false],\n            step: 0,\n            account_info: {\n                first_name: \'\',\n                last_name: \'\',\n                email_address: \'\',\n                position: \'Select Position\',\n                username: \'\',\n                password: \'\',\n                password_confirmation: \'\'\n            },\n            position_options: [\'Select Position\', \'Receptionist\', \'Housekeeper\', \'Administrator\'],\n            accept_terms: false,\n            valid: {\n                first_name: \'\',\n                last_name: \'\',\n                email_address: \'\',\n                position: \'\',\n                username: \'\',\n                password_length: \'\',\n                password_cap: \'\',\n                password_num: \'\',\n                password_confirmation: \'\'\n            },\n            username_status: \'\',\n            isBusy: false,\n            alert: {\n                show: false,\n                title: \'Notice\',\n                message: \'\',\n                confirm: false,\n                okText: \'Ok\',\n                cancelText: \'Cancel\',\n                okClicked: () => {this.$bvModal.hide(\'signup_alert\')},\n                cancelClicked: () => {this.$bvModal.hide(\'signup_alert\')},\n            }\n        }\n    },\n\n    methods: {\n        async signUp(step) {\n            switch (step) {\n                case 1:\n                    this.step = 1\n                    break\n\n                case 2:\n                    this.completed[0] = this.account_info.first_name && this.account_info.last_name && this.account_info.email_address && this.account_info.position != \'Select Position\'\n\n                    if(this.completed[0]){\n                        if(this.accept_terms) {\n                            this.step = 2\n                        }\n                        else {\n                            this.alert.confirm = false\n                            this.alert.message = \'Please agree to the Terms and Conditions to continue!\'\n\n                            this.alert.okClicked = () => {\n                                this.$bvModal.hide(\'signup_alert\')\n                            }\n\n                            this.$bvModal.show(\'signup_alert\')\n                        }\n                    }\n                    else {\n                        this.alert.confirm = false\n                        this.alert.message = \'Please complete all fields!\'\n\n                        this.alert.okClicked = () => {\n                            this.$bvModal.hide(\'signup_alert\')\n                        }\n\n                        this.$bvModal.show(\'signup_alert\')\n                    }\n                    break\n\n                case 3:\n                    this.completed[1] = this.account_info.username && this.account_info.password && this.account_info.password_confirmation\n\n                    if(this.completed[1]){\n                        this.isBusy = true\n\n                        var register_response = await axios.post(\'/api/accounts/signup\',\n                                this.account_info\n                            ).then((resp) => {\n                                this.isBusy = false\n\n                                this.alert.confirm = false\n                                this.alert.message = resp.data.message\n\n                                this.alert.okClicked = () => {\n                                    this.$bvModal.hide(\'signup_alert\')\n                                    this.$emit(\'signedin\')\n                                }\n\n                                this.$bvModal.show(\'signup_alert\')\n\n                                return resp.data\n                            }).catch((err) => {\n                                console.log(err)\n                            })\n                    }\n                    else {\n                        this.alert.confirm = false\n                        this.alert.message = \'Please complete all fields!\'\n\n                        this.alert.okClicked = () => {\n                            this.$bvModal.hide(\'signup_alert\')\n                        }\n\n                        this.$bvModal.show(\'signup_alert\')\n                    }\n                    break\n\n                default:\n                    break\n            }\n        },\n\n        is_valid(field) {\n            var regex_name = /^.{2,}$/\n            var regex_email = /^(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            var regex_unamelength = /^.{6,}$/\n            var regex_passlength = /^.{8,}$/\n            var regex_passcap = /[A-Z]/\n            var regex_passnum = /[0-9]/\n\n            switch (field) {\n                case \'first_name\':\n                    var valid_fname = regex_name.test(this.account_info.first_name)\n                    this.valid.first_name = !valid_fname ? \'Name too short (At least 2 characters)\' : \'\'\n                    break\n\n                case \'last_name\':\n                    var valid_lname = regex_name.test(this.account_info.last_name)\n                    this.valid.last_name = !valid_lname ? \'Name too short (At least 2 characters)\' : \'\'\n                    break\n\n                case \'email_address\':\n                    var valid_email = regex_email.test(this.account_info.email_address)\n                    this.valid.email_address = !valid_email ? \'Invalid email address\' : \'\'\n                    break\n\n                case \'position\':\n                    this.valid.position = this.account_info.position == \'Select Position\' ? \'Field is required\' : \'\'\n                    break\n\n                case \'username\':\n                    var valid_username = regex_unamelength.test(this.account_info.username)\n                    this.valid.username = !valid_username ? \'Userame too short (At least 6 characters)\' : \'\'\n                    break\n\n                case \'password\':\n                    var valid_passlength = regex_passlength.test(this.account_info.password)\n                    var valid_passcap = regex_passcap.test(this.account_info.password)\n                    var valid_passnum = regex_passnum.test(this.account_info.password)\n                    this.valid.password_length = !valid_passlength\n                    this.valid.password_cap = !valid_passcap\n                    this.valid.password_num = !valid_passnum\n                    break\n\n                case \'password_confirmation\':\n                    var valid_passconfirm = this.account_info.password == this.account_info.password_confirmation\n                    this.valid.password_confirmation = !valid_passconfirm ? \'New password doesn\\\'t match\' : \'\'\n                    break\n\n                default:\n                    break\n            }\n        },\n\n        check_email: async function () {\n            this.is_valid(\'email_address\')\n\n            if(!this.valid.email_address) {\n                this.valid.email_address = await axios.get(\'/api/accounts/checkEmail?email_address=\' + this.account_info.email_address)\n                    .then((resp) => {\n                        return resp.data ? \'Email already taken\' : null\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n            }\n        },\n\n        check_username: async function () {\n            this.is_valid(\'username\')\n\n            if(!this.valid.username) {\n                this.valid.username = await axios.get(\'/api/accounts/checkUsername?username=\' + this.account_info.username)\n                    .then((resp) => {\n                        return resp.data ? \'Username already taken\' : null\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n            }\n        }\n    },\n\n    watch: {\n\n    }\n}\n<\/script>\n\n<style scoped>\n    .signup-wrapper {\n        width: 420px;\n    }\n\n    .separator {\n        border-bottom: solid 1px gray;\n        height: 1px;\n    }\n\n    .separator-lightgray {\n        border-bottom: solid 1px lightgray;\n    }\n\n    .cbox-label, .fpass-label, .terms-label, .priv-label {\n        font-size: 14px;\n    }\n\n    .priv-label {\n        font-size: 13px;\n    }\n\n    .note-text {\n        font-size: 13px;\n    }\n\n    .fpass-label:hover, .terms-label:hover, .priv-label:hover {\n        color: #007BFF;\n        text-decoration: none;\n    }\n</style>\n'],sourceRoot:""}]);const r=o},2598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(4015),s=n.n(a),i=n(3645),o=n.n(i)()(s());o.push([e.id,".navbar[data-v-25235f78]{height:83px;padding:20px}.navbar-logo[data-v-25235f78]{width:180px}.nav-item[data-v-25235f78]{margin:20px 15px 0}.nav-item.active[data-v-25235f78],.nav-item[data-v-25235f78]:hover{color:#666363!important;text-decoration:none}#profilemenu[data-v-25235f78]{width:200px}#profilemenu .menu-item[data-v-25235f78]{color:gray;padding:6px 3px;text-decoration:none}","",{version:3,sources:["webpack://./resources/assets/app/js/Vue/topbar.vue"],names:[],mappings:"AAgIA,yBACA,WAAA,CACA,YACA,CAEA,8BACA,WACA,CAEA,2BAEA,kBACA,CAEA,mEACA,uBAAA,CACA,oBACA,CAEA,8BACA,WACA,CAEA,yCACA,UAAA,CACA,eAAA,CACA,oBACA",sourcesContent:['<template>\n    <nav class="navbar navbar-expand-xl navbar-light bg-light fixed-top p-0 shadow-sm">\n        <a class="d-flex navbar-brand ml-3 p-0 h-100">\n            <div class="my-3 p-2 no-arrow" @click="$emit(\'togglesidebar\')">\n                <i class="fa fa-bars text-secondary"></i>\n            </div>\n            <img :src="logoUrl" class="align-self-center navbar-logo" alt="">\n        </a>\n\n        <ul class="navbar-nav ml-auto mx-4">\n            <div :class="\'nav-item position-relative m-0 \' + (location == \'/settings\' ? \' active\' : \'\')" data-target="#profilemenu" data-toggle="collapse">\n                <a class="d-flex nav-link font-weight-bold text-dark" href="javascript:void(0)">\n                    <i class="fa fa-user-circle mr-2" style="font-size: 32px;"></i>\n                    <div style="line-height: 32px; vertical-align: center;">{{ userFullname }}</div>\n                </a>\n                <div id="profilemenu" class="bg-white border-light dropdown-menu dropdown-menu-right mt-2 p-2 position-absolute shadow">\n                    <div class="d-flex flex-column">\n                        <router-link class="menu-item" :to="{ name: \'settings\' }">\n                            <i class="fa fa-user-circle mx-1 text-info"></i>\n                            Profile Settings\n                        </router-link>\n                        <a class="menu-item" href="javascript:void(0)" @click="signOut">\n                            <i class="fa fa-sign-out mx-1 text-info"></i>\n                            Sign Out\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </ul>\n        <alert id="topbar_alert" :visible="alert.show" :title="alert.title" :confirm="alert.confirm" :message="alert.message" :okText="alert.okText" :cancelText="alert.cancelText" :okClicked="alert.okClicked" :cancelClicked="alert.cancelClicked"></alert>\n    </nav>\n</template>\n\n<script>\nimport Alert from \'./alert.vue\'\n\nexport default {\n    components: {\n        Alert\n    },\n\n    data() {\n        return {\n            location: location.pathname,\n            dropnavShown: false,\n            alert: {\n                show: false,\n                title: \'Notice\',\n                message: \'\',\n                confirm: false,\n                okText: \'Ok\',\n                cancelText: \'Cancel\',\n                okClicked: () => {this.$bvModal.hide(\'topbar_alert\')},\n                cancelClicked: () => {this.$bvModal.hide(\'topbar_alert\')},\n            }\n        }\n    },\n\n    methods: {\n        getPath: function() {\n            var path = location.pathname;\n\n            path = path.substring(path.indexOf("/") + 1);\n            path = path.substring(path.indexOf("/"));\n\n            this.location = location.host == "localhost" ? path : location.pathname;\n\n            document.title = \'Vida Emirates Hotel | \' + this.ucwords(this.$route.name)\n        },\n\n        signOut() {\n            this.alert.confirm = true\n            this.alert.message = \'Sign Out Account?\'\n\n            this.alert.okClicked = () => {\n                axios.post(\'/api/accounts/signout\').then((resp) => {\n                        return resp.data\n                    }).catch((err) => {\n                        console.log(err)\n                    })\n\n                this.$emit(\'signedout\')\n\n                this.$bvModal.hide(\'topbar_alert\');\n            }\n\n            this.alert.cancelClicked = () => {\n                this.$bvModal.hide(\'topbar_alert\');\n            }\n\n            this.$bvModal.show(\'topbar_alert\');\n        },\n\n        ucwords(str) {\n            return str.toLowerCase().replace(/\\b[a-z]/g, function(letter) {\n                return letter.toUpperCase();\n            });\n        }\n    },\n\n    props: {\n        isLoggedIn: {\n            type: Boolean,\n            default: false,\n            required: true\n        },\n        logoUrl: {\n            type: String,\n            default: null,\n            required: true\n        },\n        userFullname: {\n            type: String,\n            default: \'N/A\',\n            required: true\n        }\n    },\n\n    watch: {\n        $route: function() {\n            window.scrollTo(0, 0)\n            this.getPath()\n        }\n    }\n}\n<\/script>\n\n<style scoped>\n    .navbar {\n        height: 83px;\n        padding: 20px;\n    }\n\n    .navbar-logo {\n        width: 180px;\n    }\n\n    .nav-item {\n        margin: 0 15px;\n        margin-top: 20px;\n    }\n\n    .nav-item.active, .nav-item:hover {\n        color: rgb(102, 99, 99) !important;\n        text-decoration: none;\n    }\n\n    #profilemenu {\n        width: 200px;\n    }\n\n    #profilemenu .menu-item {\n        color: gray;\n        padding: 6px 3px;\n        text-decoration: none;\n    }\n</style>\n'],sourceRoot:""}]);const r=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(a)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(s[o]=!0)}for(var r=0;r<e.length;r++){var l=[].concat(e[r]);a&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},4015:e=>{"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var a,s,i=[],o=!0,r=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(r)throw s}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e.exports=function(e){var n=t(e,4),a=n[1],s=n[3];if(!s)return a;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),r="/*# ".concat(o," */"),l=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([r]).join("\n")}return[a].join("\n")}},2319:()=>{},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",r=s.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var s=t&&t.prototype instanceof v?t:v,i=Object.create(s.prototype),o=new B(a||[]);return i._invoke=function(e,t,n){var a=m;return function(s,i){if(a===f)throw new Error("Generator is already running");if(a===_){if("throw"===s)throw i;return I()}for(n.method=s,n.arg=i;;){var o=n.delegate;if(o){var r=A(o,n);if(r){if(r===p)continue;return r}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var l=d(e,t,n);if("normal"===l.type){if(a=n.done?_:u,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=_,n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var m="suspendedStart",u="suspendedYield",f="executing",_="completed",p={};function v(){}function h(){}function b(){}var g={};l(g,i,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(S([])));w&&w!==n&&a.call(w,i)&&(g=w);var x=b.prototype=v.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(s,i,o,r){var l=d(e[s],e,i);if("throw"!==l.type){var c=l.arg,m=c.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,o,r)}),(function(e){n("throw",e,o,r)})):t.resolve(m).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,r)}))}r(l.arg)}var s;this._invoke=function(e,a){function i(){return new t((function(t,s){n(e,a,t,s)}))}return s=s?s.then(i,i):i()}}function A(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var s=d(a,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,p;var i=s.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function $(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}function S(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,o=function n(){for(;++s<e.length;)if(a.call(e,s))return n.value=e[s],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return h.prototype=b,l(x,"constructor",b),l(b,"constructor",h),h.displayName=l(b,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,r,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(C.prototype),l(C.prototype,o,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,a,s,i){void 0===i&&(i=Promise);var o=new C(c(t,n,a,s),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(x),l(x,r,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=S,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function s(a,s){return r.type="throw",r.arg=e,n.next=a,s&&(n.method="next",n.arg=t),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],r=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var s=a.arg;M(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:S(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},3379:(e,t,n)=>{"use strict";var a,s=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function r(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},a=[],s=0;s<e.length;s++){var i=e[s],l=t.base?i[0]+t.base:i[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var m=r(d),u={css:i[1],media:i[2],sourceMap:i[3]};-1!==m?(o[m].references++,o[m].updater(u)):o.push({identifier:d,updater:v(u,t),references:1}),a.push(d)}return a}function c(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var s=n.nc;s&&(a.nonce=s)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var d,m=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,a){var s=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=m(t,s);else{var i=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t,n){var a=n.css,s=n.media,i=n.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var _=null,p=0;function v(e,t){var n,a,s;if(t.singleton){var i=p++;n=_||(_=c(t)),a=u.bind(null,n,i,!1),s=u.bind(null,n,i,!0)}else n=c(t),a=f.bind(null,n,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=s());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var s=r(n[a]);o[s].references--}for(var i=l(e,t),c=0;c<n.length;c++){var d=r(n[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}n=i}}}}},n={};function a(e){var s=n[e];if(void 0!==s)return s.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,a),i.exports}a.m=t,e=[],a.O=(t,n,s,i)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,s,i]=e[d],r=!0,l=0;l<n.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(r=!1,i<o&&(o=i));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,s,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={837:0,43:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var s,i,[o,r,l]=n,c=0;for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(l)var d=l(a);for(t&&t(n);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[o[c]]=0;return a.O(d)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.O(void 0,[43],(()=>a(4311)));var s=a.O(void 0,[43],(()=>a(2319)));s=a.O(s)})();
//# sourceMappingURL=app.js.map